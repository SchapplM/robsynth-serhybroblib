% Rotatorische Teilmatrix der Rotationsmatrix-Jacobi-Matrix für beliebiges Segment von
% fivebar1TE
% Use Code from Maple symbolic Code Generation
% 
% Rotationsmatrix-Jacobi-Matrix: Differentieller Zusammenhang zwischen
% gestapelter Endeffektor-Rotationsmatrix und verallgemeinerten Koordinaten.
% 
% 
% Input:
% qJ [2x1]
%   Generalized joint coordinates (joint angles)
% link_index [1x1 uint8]
%   Index des Segmentes, auf dem der Punkt C liegt. (0=Basis).
%   Siehe auch: bsp_3T1R_fkine_fixb_rotmat_mdh_sym_varpar.m
% pkin [5x1]
%   kinematic parameters (e.g. lengths of the links)
%   pkin=[AB,AE,BC,CD,ED]';
% 
% Output:
% JR_rot [9x2]
%   Jacobi-Matrix der Endeffektor-Rotationsmatrix

% Quelle: HybrDyn-Toolbox
% Datum: 2020-04-27 10:28
% Revision: 970157063c8b7bcb25458a457551a083b21abdbd (2020-04-26)
% Moritz Schappler, moritz.schappler@imes.uni-hannover.de
% (C) Institut für Mechatronische Systeme, Universität Hannover

function JR_rot = fivebar1TE_jacobiR_rot_sym_varpar(qJ, link_index, pkin)
%% Coder Information
%#codegen
%$cgargs {zeros(2,1),uint8(0),zeros(5,1)}
assert(isreal(qJ) && all(size(qJ) == [2 1]), ...
  'fivebar1TE_jacobiR_rot_sym_varpar: qJ has to be [2x1] (double)');
assert(isa(link_index,'uint8') && all(size(link_index) == [1 1]), ...
	'fivebar1TE_jacobiR_rot_sym_varpar: link_index has to be [1x1] uint8');
assert(isreal(pkin) && all(size(pkin) == [5 1]), ...
  'fivebar1TE_jacobiR_rot_sym_varpar: pkin has to be [5x1] (double)');
JR_rot=NaN(9,2);
if link_index == 0
	%% Symbolic Calculation
	% From jacobiR_rot_0_floatb_twist_matlab.m
	% OptimizationMode: 2
	% StartTime: 2020-04-27 10:19:04
	% EndTime: 2020-04-27 10:19:04
	% DurationCPUTime: 0.01s
	% Computational Cost: add. (0->0), mult. (0->0), div. (0->0), fcn. (0->0), ass. (0->1)
	t1 = [0, 0; 0, 0; 0, 0; 0, 0; 0, 0; 0, 0; 0, 0; 0, 0; 0, 0;];
	JR_rot = t1;
elseif link_index == 1
	%% Symbolic Calculation
	% From jacobiR_rot_1_floatb_twist_matlab.m
	% OptimizationMode: 2
	% StartTime: 2020-04-27 10:19:04
	% EndTime: 2020-04-27 10:19:04
	% DurationCPUTime: 0.01s
	% Computational Cost: add. (3->3), mult. (0->0), div. (0->0), fcn. (4->2), ass. (0->3)
	t9 = cos(qJ(1));
	t8 = sin(qJ(1));
	t1 = [-t8, 0; t9, 0; 0, 0; -t9, 0; -t8, 0; 0, 0; 0, 0; 0, 0; 0, 0;];
	JR_rot = t1;
elseif link_index == 2
	%% Symbolic Calculation
	% From jacobiR_rot_2_floatb_twist_matlab.m
	% OptimizationMode: 2
	% StartTime: 2020-04-27 10:19:50
	% EndTime: 2020-04-27 10:20:09
	% DurationCPUTime: 19.04s
	% Computational Cost: add. (179800->617), mult. (544168->959), div. (1136->6), fcn. (66632->6), ass. (0->417)
	t1726 = pkin(5) ^ 2;
	t1733 = pkin(3) ^ 2;
	t1737 = pkin(2) ^ 2;
	t1739 = pkin(1) ^ 2;
	t1608 = t1739 + t1737 / 0.4e1 + t1733 / 0.4e1 - t1726 / 0.8e1;
	t1725 = t1726 ^ 2;
	t1729 = pkin(4) ^ 2;
	t1728 = t1729 ^ 2;
	t1731 = t1733 ^ 2;
	t1738 = t1739 ^ 2;
	t1745 = t1737 ^ 2;
	t1696 = sin(qJ(2));
	t1697 = sin(qJ(1));
	t1920 = t1696 * t1697;
	t1624 = pkin(2) * t1920;
	t1790 = pkin(3) * t1624;
	t1890 = 0.4e1 / 0.7e1 * t1739 - t1726 / 0.7e1;
	t1907 = t1739 * t1726;
	t1528 = -0.32e2 / 0.21e2 * t1608 * t1790 + t1745 / 0.7e1 + (0.16e2 / 0.21e2 * t1733 + t1890) * t1737 + t1731 / 0.7e1 + t1890 * t1733 + t1738 - 0.3e1 / 0.7e1 * t1907 + t1725 / 0.42e2 - t1728 / 0.42e2;
	t1676 = -t1726 / 0.4e1;
	t1691 = t1733 / 0.3e1;
	t1694 = t1737 / 0.2e1;
	t1891 = t1694 + t1739;
	t1609 = t1676 + t1691 + t1891;
	t1677 = -t1726 / 0.3e1;
	t1679 = -0.2e1 / 0.3e1 * t1726;
	t1690 = 0.4e1 / 0.3e1 * t1733;
	t1950 = 0.4e1 / 0.3e1 * t1737;
	t1532 = -0.8e1 / 0.3e1 * t1609 * t1790 + t1745 / 0.3e1 + (t1690 + t1677) * t1737 + t1738 - t1731 / 0.3e1 + (t1950 + 0.2e1 / 0.3e1 * t1733 + t1679) * t1739 + t1725 / 0.18e2 - t1728 / 0.18e2;
	t1884 = t1731 + t1738;
	t1723 = 0.2e1 * t1739;
	t1888 = t1723 - t1726;
	t1966 = -t1725 / 0.6e1 + t1728 / 0.6e1;
	t1577 = t1888 * t1733 + t1884 - t1907 - t1966;
	t1692 = t1733 / 0.2e1;
	t1579 = -0.2e1 / 0.3e1 * t1790 + t1739 + t1692 + t1676;
	t1721 = 0.4e1 * t1739;
	t1642 = (t1721 + t1726) * t1733;
	t1646 = -t1733 / 0.3e1 + t1739;
	t1648 = t1739 - 0.2e1 / 0.3e1 * t1737;
	t1698 = cos(qJ(2));
	t1652 = pkin(3) * t1698;
	t1678 = -t1726 / 0.2e1;
	t1881 = t1737 + t1739;
	t1801 = t1733 + t1881;
	t1621 = t1678 + t1801;
	t1777 = -0.4e1 * t1790;
	t1765 = t1621 * t1777;
	t1663 = t1698 ^ 2;
	t1662 = t1698 * t1663;
	t1748 = pkin(3) * t1733;
	t1925 = t1662 * t1748;
	t1831 = 0.16e2 * t1925;
	t1661 = t1663 ^ 2;
	t1910 = t1731 * t1661;
	t1856 = 0.8e1 * t1910;
	t1883 = t1733 - t1739;
	t1909 = t1733 * t1663;
	t1913 = (pkin(1) + pkin(3)) * (pkin(1) - pkin(3));
	t1511 = t1648 * t1856 + 0.14e2 * t1528 * t1909 + t1646 * t1765 - t1883 * t1745 + (t1642 - 0.10e2 / 0.3e1 * t1731 + 0.2e1 * t1738 - t1907) * t1737 + t1577 * t1913 + (0.6e1 * t1532 * t1652 + t1579 * t1831) * pkin(1);
	t1704 = 0.15e2 * t1731;
	t1705 = 0.15e2 * t1733;
	t1719 = 0.3e1 * t1738;
	t1895 = t1725 / 0.2e1 - t1728 / 0.2e1;
	t1772 = -0.3e1 * t1907 + t1719 + t1895;
	t1680 = -0.3e1 / 0.2e1 * t1726;
	t1722 = 0.3e1 * t1739;
	t1892 = t1680 + t1722;
	t1656 = t1733 + t1739;
	t1744 = pkin(2) * t1737;
	t1734 = t1744 ^ 2;
	t1898 = t1656 * ((t1680 + t1723) * t1733 - 0.3e1 / 0.2e1 * t1907 + t1884 + t1895) + t1734;
	t1650 = 0.10e2 / 0.3e1 * t1733;
	t1759 = t1577 + t1745;
	t1551 = (t1650 + t1888) * t1737 + t1759;
	t1963 = -0.6e1 * t1551;
	t1521 = t1790 * t1963 + (t1704 + (-0.9e1 * t1726 + 0.18e2 * t1739) * t1733 + t1772) * t1737 + (t1705 + t1892) * t1745 + t1898;
	t1712 = 0.6e1 * t1733;
	t1537 = t1765 + (t1712 + t1888) * t1737 + t1759;
	t1619 = -0.2e1 * t1790;
	t1647 = t1739 - t1737 / 0.3e1;
	t1586 = t1647 * t1619;
	t1912 = (pkin(1) + pkin(2)) * (pkin(1) - pkin(2));
	t1554 = t1621 * t1912 + t1586;
	t1717 = -0.3e1 * t1737;
	t1659 = t1717 + t1739;
	t1847 = pkin(1) * t1925;
	t1798 = 0.8e1 * t1847;
	t1604 = t1659 * t1798;
	t1865 = pkin(1) * t1652;
	t1825 = 0.6e1 * t1865;
	t1829 = 0.12e2 * t1909;
	t1513 = t1537 * t1825 + t1554 * t1829 + t1521 + t1604;
	t1707 = -0.2e1 * t1726;
	t1720 = 0.8e1 * t1739;
	t1918 = t1696 * t1748;
	t1964 = -0.4e1 * pkin(2);
	t1794 = t1918 * t1964;
	t1957 = 0.4e1 * t1731;
	t1572 = t1697 * t1794 + t1957 + (0.4e1 * t1737 + t1707 + t1720) * t1733;
	t1763 = -t1790 + t1891;
	t1578 = t1676 - t1733 + t1763;
	t1658 = -0.3e1 * t1733 + t1739;
	t1861 = 0.8e1 * t1925;
	t1867 = 0.4e1 * t1652;
	t1524 = t1619 * t1913 + t1572 * t1663 + t1621 * t1658 + (t1578 * t1867 + t1861) * pkin(1);
	t1880 = t1738 - t1731;
	t1885 = t1726 - t1739;
	t1526 = t1647 * t1765 - t1734 + (-t1650 + t1885) * t1745 + (t1642 + t1880 + t1966) * t1737 + t1577 * t1739;
	t1708 = -0.5e1 * t1726;
	t1709 = 0.7e1 * t1731;
	t1711 = 0.7e1 * t1733;
	t1531 = (t1711 + t1892) * t1745 + (t1709 + (t1708 + 0.10e2 * t1739) * t1733 + t1772) * t1737 + t1898;
	t1741 = pkin(1) * t1739;
	t1973 = 0.4e1 * pkin(3);
	t1628 = -0.12e2 * pkin(1) * t1748 + t1741 * t1973;
	t1906 = t1739 * t1733;
	t1645 = -0.8e1 * t1731 + 0.12e2 * t1906;
	t1787 = pkin(1) * t1831;
	t1542 = t1628 * t1698 + t1645 * t1663 + t1787 + t1856 + t1884 - 0.6e1 * t1906;
	t1557 = t1619 * t1912 + t1621 * t1659;
	t1879 = t1738 + t1745;
	t1614 = (-0.6e1 * t1737 * t1739 + t1879) * t1731;
	t1800 = -t1726 + t1656;
	t1622 = t1729 + t1800;
	t1651 = -0.30e2 * t1726 + 0.60e2 * t1739;
	t1699 = cos(qJ(1));
	t1666 = t1699 ^ 2;
	t1664 = t1666 ^ 2;
	t1887 = t1725 - t1728;
	t1771 = -0.6e1 * t1907 + 0.6e1 * t1738 + t1887;
	t1630 = pkin(1) + t1652;
	t1665 = t1699 * t1666;
	t1923 = t1665 * t1744;
	t1821 = t1630 * t1923;
	t1836 = pkin(3) * t1920;
	t1649 = t1656 ^ 2;
	t1928 = t1649 * (-t1729 + t1800);
	t1931 = t1630 * t1699;
	t1499 = -0.32e2 * t1524 * t1821 + 0.16e2 * t1614 * t1661 + 0.24e2 * t1526 * t1909 + (t1707 + t1721 + 0.28e2 * t1733) * t1734 + t1622 * t1928 + (0.24e2 * t1511 * t1666 + t1651 * t1731 + t1771 * t1712 + t1887 * t1723 - 0.6e1 * t1738 * t1726 + 0.4e1 * t1741 ^ 2 + 0.28e2 * t1748 ^ 2) * t1737 + 0.8e1 * (-t1513 * t1931 - t1531 * t1836) * pkin(2) + (0.8e1 * t1521 * t1652 + 0.32e2 * t1557 * t1925) * pkin(1) + (0.16e2 * t1542 * t1664 + t1651 * t1733 + 0.70e2 * t1731 + t1745 + t1771) * t1745;
	t1675 = -t1726 / 0.6e1;
	t1894 = t1675 - t1729 / 0.6e1;
	t1807 = t1739 + t1894;
	t1593 = t1950 + t1692 + t1807;
	t1770 = t1694 + t1807;
	t1594 = t1690 + t1770;
	t1653 = pkin(2) * t1697;
	t1940 = pkin(3) * t1696;
	t1543 = -t1593 * t1940 + t1594 * t1653;
	t1596 = t1733 + t1770;
	t1956 = 0.2e1 * t1737;
	t1640 = t1956 - t1883;
	t1555 = t1596 * t1653 - t1640 * t1940 / 0.2e1;
	t1635 = t1883 * t1737;
	t1967 = t1677 - t1729 / 0.3e1;
	t1806 = t1739 + t1967;
	t1685 = t1729 / 0.3e1;
	t1808 = t1726 / 0.3e1 + t1685 + t1723;
	t1773 = -0.8e1 / 0.3e1 * t1910 - t1635 - 0.5e1 / 0.3e1 * t1731 + t1808 * t1733 + t1739 * t1806;
	t1684 = 0.2e1 / 0.3e1 * t1729;
	t1809 = 0.2e1 / 0.3e1 * t1726 + t1684 + t1721;
	t1810 = 0.4e1 / 0.3e1 * t1726 + 0.4e1 / 0.3e1 * t1729 - 0.2e1 * t1739;
	t1823 = 0.20e2 / 0.3e1 * t1733;
	t1833 = -(-t1745 + (t1809 - t1823) * t1737 - 0.3e1 * t1731 + t1810 * t1733 + t1738) * pkin(3) / 0.2e1;
	t1852 = 0.4e1 * t1909;
	t1926 = t1662 * t1731;
	t1937 = 0.4e1 * pkin(1);
	t1514 = t1543 * t1852 + t1696 * t1833 + t1773 * t1653 + (t1555 * t1652 - t1696 * t1926) * t1937;
	t1710 = 0.5e1 * t1731;
	t1706 = 0.10e2 * t1733;
	t1889 = t1706 + t1723;
	t1689 = -0.2e1 / 0.3e1 * t1729;
	t1893 = t1679 + t1689;
	t1654 = -t1726 - t1729;
	t1638 = t1722 + t1654;
	t1930 = t1638 * t1733;
	t1544 = t1745 + (t1889 + t1893) * t1737 + t1710 + 0.2e1 * t1930 + t1739 * (t1739 + t1893);
	t1715 = 0.5e1 * t1745;
	t1803 = t1679 + t1656;
	t1556 = t1715 + (0.5e1 * t1733 + t1638) * t1956 + (t1689 + t1803) * t1656;
	t1525 = t1544 * t1653 - t1556 * t1940;
	t1716 = 0.3e1 * t1737;
	t1769 = t1733 + t1806;
	t1598 = t1716 + t1769;
	t1713 = 0.3e1 * t1733;
	t1641 = t1713 + t1881;
	t1599 = t1641 + t1967;
	t1545 = -t1598 * t1940 + t1599 * t1653;
	t1607 = t1692 + t1737 + t1894;
	t1876 = 0.2e1 * t1653;
	t1560 = t1607 * t1876 + t1912 * t1940;
	t1841 = t1748 * t1653;
	t1854 = -0.4e1 * t1909;
	t1960 = -0.8e1 * t1662;
	t1515 = t1560 * t1854 + (t1545 * t1867 + t1841 * t1960) * pkin(1) + t1525;
	t1553 = -0.3e1 * t1745 + (t1810 - t1823) * t1737 + t1809 * t1733 + t1880;
	t1561 = -0.5e1 / 0.3e1 * t1745 + (-t1733 + t1808) * t1737 + t1739 * t1769;
	t1870 = -0.2e1 * t1940;
	t1527 = t1553 * t1653 + t1561 * t1870;
	t1805 = t1678 - t1729 / 0.2e1 + t1739;
	t1595 = 0.3e1 / 0.2e1 * t1737 + t1713 + t1805;
	t1611 = t1653 + 0.2e1 * t1940;
	t1842 = t1733 * t1653;
	t1602 = t1842 - t1918;
	t1932 = t1602 * t1663;
	t1946 = pkin(1) * t1698;
	t1974 = 0.2e1 * pkin(3);
	t1530 = t1658 * t1653 + 0.4e1 * t1932 + (t1595 * t1696 + t1611 * t1946) * t1974;
	t1597 = t1716 + 0.3e1 / 0.2e1 * t1733 + t1805;
	t1559 = t1597 * t1653 + t1659 * t1940 / 0.2e1;
	t1612 = 0.10e2 * t1930;
	t1927 = t1654 * t1739;
	t1766 = 0.24e2 * t1647 * t1910 - t1734 - (0.21e2 * t1733 + t1638) * t1745 - (t1612 + t1719 + 0.35e2 * t1731 + 0.2e1 * t1927) * t1737 - (t1709 + (t1708 + t1720 - 0.5e1 * t1729) * t1733 + t1739 * (-t1729 - t1885)) * t1656;
	t1783 = 0.8e1 * t1821;
	t1908 = t1737 * t1666;
	t1828 = -0.12e2 * t1908;
	t1855 = -0.6e1 * t1909;
	t1632 = 0.2e1 * t1865;
	t1580 = 0.4e1 / 0.3e1 * t1909 + t1632 + t1646;
	t1924 = t1664 * t1745;
	t1969 = 0.7e1 * t1734 + (t1711 + t1638) * t1715 + (t1612 + 0.21e2 * t1731 + 0.9e1 * t1738 + 0.6e1 * t1927) * t1737 + t1928 - 0.24e2 * t1580 * t1924;
	t1503 = t1559 * t1787 + t1530 * t1783 + t1514 * t1828 + t1527 * t1855 + (-0.6e1 * t1525 * t1946 + t1969 * t1696) * pkin(3) + (0.6e1 * t1515 * t1931 + t1766 * t1697) * pkin(2);
	t1916 = t1698 * t1699;
	t1840 = pkin(2) * t1916;
	t1791 = pkin(1) * t1840;
	t1592 = -0.4e1 * t1733 * t1696 * t1791;
	t1944 = pkin(2) * t1699;
	t1629 = pkin(1) - t1944;
	t1601 = t1629 + t1652;
	t1606 = t1791 * t1974;
	t1799 = -t1726 + t1881;
	t1768 = t1733 + t1799;
	t1616 = -t1729 + t1768;
	t1866 = pkin(1) * t1944;
	t1634 = -0.2e1 * t1866;
	t1582 = t1634 + t1616;
	t1563 = t1619 + t1582;
	t1613 = t1629 * t1698;
	t1850 = 0.2e1 * t1908;
	t1882 = -t1737 + t1739;
	t1585 = t1634 + t1850 + t1882;
	t1962 = -0.2e1 * t1585;
	t1767 = t1663 * t1962 + t1885;
	t1953 = -pkin(4) + pkin(5);
	t1954 = -pkin(4) - pkin(5);
	t1971 = 0.2e1 * t1733;
	t1740 = sqrt(0.4e1 * t1635 * t1666 + 0.4e1 * t1616 * t1866 - t1731 - (t1739 + (pkin(2) - t1954) * (pkin(2) + t1954)) * (t1739 + (pkin(2) - t1953) * (pkin(2) + t1953)) + (t1717 + t1729 + t1767) * t1971 + (-t1563 * t1613 + t1582 * t1624) * t1973);
	t1824 = 0.32e2 / 0.3e1 * t1731;
	t1775 = t1662 * t1824;
	t1776 = 0.64e2 / 0.3e1 * t1608 * t1748;
	t1945 = pkin(1) * t1731;
	t1780 = t1912 * t1945;
	t1788 = -0.16e2 * pkin(1) * t1609 * t1733;
	t1942 = pkin(3) * t1646;
	t1793 = -0.4e1 * t1621 * t1942;
	t1518 = 0.1e1 / t1740;
	t1644 = pkin(1) * t1653;
	t1633 = 0.2e1 * t1644;
	t1914 = t1699 * t1737;
	t1857 = -0.4e1 * t1914;
	t1782 = t1697 * t1857;
	t1588 = t1633 + t1782;
	t1919 = t1696 * t1699;
	t1843 = pkin(2) * t1919;
	t1789 = pkin(3) * t1843;
	t1838 = pkin(3) * t1613;
	t1792 = -0.8e1 * t1838;
	t1869 = -0.4e1 * t1652;
	t1970 = 0.8e1 * t1737;
	t1936 = (t1588 * t1854 + (t1644 - t1789) * t1792 + 0.4e1 * t1582 * t1789 + (pkin(2) * t1563 * t1869 - 0.8e1 * t1635 * t1699 + (t1616 * t1964 + t1836 * t1970) * pkin(1)) * t1697) * t1518;
	t1811 = t1936 / 0.2e1;
	t1905 = t1748 * t1663;
	t1819 = t1647 * t1905;
	t1921 = t1666 * t1744;
	t1820 = t1630 * t1921;
	t1826 = 0.4e1 * t1865;
	t1915 = t1698 * t1733;
	t1834 = pkin(1) * t1915;
	t1835 = pkin(3) * t1913;
	t1849 = 0.3e1 * t1908;
	t1859 = 0.8e1 * t1923;
	t1873 = 0.6e1 * t1944;
	t1922 = t1665 * t1745;
	t1939 = t1531 * pkin(3);
	t1961 = 0.8e1 * t1601;
	t1968 = t1658 + t1852;
	t1493 = t1503 * t1811 + (-0.32e2 * t1592 * t1601 + 0.8e1 * t1606 * t1740) * t1821 + (0.24e2 * (0.4e1 * t1580 * t1922 * t1940 + t1514 * t1914 - t1530 * t1820) * t1740 + (-0.6e1 * t1511 * t1914 + 0.12e2 * t1524 * t1820 - 0.8e1 * t1542 * t1922) * t1961) * t1697 + ((t1499 + (t1513 * t1961 - 0.6e1 * t1515 * t1740) * t1630) * t1697 + (((t1594 * t1852 + t1596 * t1826 + t1773) * t1828 + t1597 * t1787 + t1553 * t1855 - 0.6e1 * t1544 * t1865 + (t1968 * t1859 + (t1599 * t1826 - 0.8e1 * t1607 * t1909 + t1544 - 0.8e1 * t1847) * t1873) * t1630 + t1766) * t1740 + ((-pkin(1) * t1775 - t1663 * t1776 + t1698 * t1788 + t1793) * t1849 + t1780 * t1960 - 0.12e2 * t1621 * t1819 + t1834 * t1963 - t1939 + (-0.4e1 * (-0.2e1 * t1835 - 0.4e1 * t1905) * t1923 - (pkin(3) * t1963 - 0.24e2 * t1621 * t1834 - 0.24e2 * t1819) * t1944) * t1630) * t1696 * t1961) * t1699) * pkin(2);
	t1496 = t1499 * t1601 + t1503 * t1740;
	t1567 = -0.4e1 / 0.9e1 * t1790 + t1739 + t1737 / 0.3e1 + t1691 + t1729 / 0.9e1 - t1726 / 0.9e1;
	t1575 = t1729 / 0.6e1 + t1675 + t1763;
	t1600 = t1677 + t1685 + t1801;
	t1522 = t1646 * t1619 + 0.6e1 * t1567 * t1909 + t1600 * t1913 + (t1575 * t1652 + t1925) * t1937;
	t1804 = t1679 + t1684 + t1723;
	t1897 = (t1684 + t1803) * t1656 + t1745;
	t1534 = t1600 * t1777 + (t1712 + t1804) * t1737 + t1897;
	t1573 = t1619 + t1600;
	t1636 = t1882 * t1733;
	t1959 = 0.4e1 * t1663;
	t1523 = t1573 * t1826 + t1636 * t1959 + t1534;
	t1548 = t1600 * t1912 + t1586;
	t1550 = (t1650 + t1804) * t1737 + t1897;
	t1584 = t1632 + t1968;
	t1784 = -0.8e1 * t1821;
	t1886 = -t1726 + t1729;
	t1802 = t1722 + t1886;
	t1508 = t1584 * t1784 + t1604 + t1548 * t1829 + t1534 * t1825 + t1734 + (t1705 + t1802) * t1745 + t1649 * t1622 + (0.12e2 * t1522 * t1666 + t1802 * t1712 + t1886 * t1723 + t1704 + t1719) * t1737 + 0.6e1 * (-t1523 * t1931 - t1550 * t1836) * pkin(2);
	t1605 = t1641 * t1653;
	t1610 = t1653 - t1940;
	t1779 = t1663 * t1842;
	t1639 = t1716 + t1656;
	t1929 = t1639 * t1696;
	t1535 = -0.2e1 * t1779 + t1605 + (0.2e1 * t1610 * t1946 - t1929) * pkin(3);
	t1655 = t1971 + t1737;
	t1536 = t1655 * t1940 + 0.2e1 * t1932 + (-t1883 + t1632) * t1653;
	t1566 = -pkin(3) * t1929 + t1605;
	t1637 = pkin(2) * t1957 + 0.8e1 * t1733 * t1744;
	t1817 = t1748 * t1912;
	t1568 = t1637 * t1697 + 0.4e1 * t1696 * t1817;
	t1583 = t1889 * t1737 + t1710 + t1879 + 0.6e1 * t1906;
	t1591 = t1715 + (t1706 + 0.6e1 * t1739) * t1737 + t1649;
	t1851 = -0.4e1 * t1908;
	t1512 = t1536 * t1851 + t1568 * t1663 + (-0.4e1 * t1566 * t1946 + (t1591 + t1783) * t1696) * pkin(3) + (0.4e1 * t1535 * t1931 + (-t1583 + t1798) * t1697) * pkin(2);
	t1853 = 0.2e1 * t1909;
	t1858 = t1697 * t1970;
	t1871 = -0.2e1 * t1942;
	t1872 = -0.4e1 * pkin(3) * t1600;
	t1874 = 0.4e1 * t1944;
	t1877 = t1535 * t1964;
	t1498 = (t1606 * t1851 + (t1536 * t1858 + t1637 * t1663 + ((-t1883 + t1853) * t1851 - t1583 + (t1641 * t1869 + t1861) * pkin(1)) * pkin(2)) * t1699 + ((t1606 + (t1641 - 0.2e1 * t1909) * t1944) * t1874 + (-0.24e2 * t1921 * t1940 + t1877) * t1697) * t1630) * t1740 + t1512 * t1811 + 0.6e1 * (0.4e1 * t1584 * t1697 * t1820 + (t1592 + (-0.8e1 / 0.3e1 * t1905 + t1871) * t1843) * t1850 + t1522 * t1782 + t1647 * t1699 * t1663 * t1794 + t1600 * t1592 - t1550 * t1789 + (-(-0.8e1 * t1834 + t1872) * t1696 * t1908 + t1523 * t1653) * t1630) * t1601 + t1508 * t1653;
	t1581 = t1634 + t1729 + t1768;
	t1943 = pkin(3) * t1629;
	t1541 = t1581 * t1698 + (t1959 - 0.2e1) * t1943;
	t1896 = -t1624 + t1613;
	t1574 = pkin(3) + t1896;
	t1868 = 0.2e1 * t1652;
	t1941 = pkin(3) * t1663;
	t1975 = 0.2e1 * pkin(1);
	t1504 = t1574 * t1811 + t1588 * t1696 * t1868 + ((-t1696 * t1740 + t1541) * t1699 + (t1698 * t1740 + (t1629 * t1975 + t1581) * t1696 + (-pkin(3) + 0.2e1 * t1941 + t1946) * t1876) * t1697) * pkin(2);
	t1615 = t1713 + t1729 + t1799;
	t1564 = t1615 + t1634 + t1777;
	t1917 = t1698 * t1697;
	t1576 = pkin(2) * t1917 + t1629 * t1696;
	t1878 = -0.2e1 * pkin(1) * t1737;
	t1947 = pkin(1) * (t1624 - pkin(3));
	t1505 = (t1624 + t1840) * t1740 + t1576 * t1811 - 0.2e1 * t1588 * t1941 - (t1633 - 0.4e1 * t1789) * t1613 + t1666 * t1696 * t1878 + t1615 * t1843 + (pkin(3) * t1857 + (-t1564 * t1698 + 0.2e1 * t1947) * pkin(2)) * t1697;
	t1934 = t1576 * t1740;
	t1509 = -t1564 * t1613 + t1934 + (t1615 * t1920 - 0.2e1 * t1699 * t1947) * pkin(2) + (-t1716 - t1729 - t1733 + t1767 + t1850) * pkin(3);
	t1549 = t1619 + t1634 + t1801 + 0.2e1 * t1838;
	t1546 = 0.1e1 / t1549;
	t1590 = -t1917 + t1919;
	t1565 = -t1590 * pkin(3) * pkin(2) + t1644;
	t1839 = t1585 * t1652;
	t1538 = t1581 * t1629 + 0.2e1 * t1839;
	t1510 = t1538 * t1696 + t1541 * t1653 + t1574 * t1740;
	t1502 = t1508 * t1601 + t1512 * t1740;
	t1952 = 0.1e1 / t1502 / 0.4e1;
	t1814 = t1510 * t1952;
	t1948 = t1740 / 0.4e1;
	t1762 = t1496 * t1814 + t1509 * t1948;
	t1972 = -0.2e1 / t1549 ^ 2;
	t1758 = t1762 * t1972;
	t1951 = -0.1e1 / t1502 ^ 2 / 0.4e1;
	t1812 = t1510 * t1951;
	t1911 = 0.1e1 / pkin(5) / pkin(4) ^ 2;
	t1978 = (t1565 * t1758 + (t1505 * t1948 + t1509 * t1936 / 0.8e1 + t1493 * t1814 + (t1498 * t1812 + t1504 * t1952) * t1496) * t1546) * t1911;
	t1815 = t1509 * t1952;
	t1949 = -t1740 / 0.4e1;
	t1761 = t1496 * t1815 + t1510 * t1949;
	t1757 = t1761 * t1972;
	t1813 = t1509 * t1951;
	t1977 = (t1565 * t1757 + (t1493 * t1815 + t1504 * t1949 - t1510 * t1936 / 0.8e1 + (t1498 * t1813 + t1505 * t1952) * t1496) * t1546) * t1911;
	t1589 = -t1916 - t1920;
	t1976 = t1977 * t1589 + t1978 * t1590;
	t1904 = -t1978 * t1589 + t1977 * t1590;
	t1965 = t1976 * t1697 - t1904 * t1699;
	t1958 = -0.8e1 * t1698;
	t1955 = pkin(1) * pkin(3);
	t1938 = -0.2e1 * t1955;
	t1935 = t1518 * ((t1563 * t1943 + 0.2e1 * t1585 * t1915) * t1696 + (t1582 * t1652 + t1629 * t1853) * t1653);
	t1846 = pkin(1) * t1905;
	t1785 = -0.12e2 * t1846;
	t1933 = t1601 * t1696 * t1785;
	t1631 = pkin(1) * t1870;
	t1660 = t1696 ^ 2;
	t1774 = t1662 * t1817;
	t1786 = -0.48e2 * t1846;
	t1845 = pkin(1) * t1909;
	t1795 = 0.4e1 * t1845;
	t1796 = -0.2e1 * t1845;
	t1797 = -0.4e1 * t1845;
	t1816 = t1696 * t1915;
	t1818 = t1647 * t1925;
	t1830 = -0.64e2 * t1923;
	t1832 = -0.32e2 * t1926;
	t1837 = pkin(3) * t1923;
	t1844 = t1601 * t1653;
	t1848 = pkin(1) * t1910;
	t1860 = -0.8e1 * t1923;
	t1862 = -0.2e1 * t1925;
	t1863 = -0.4e1 * t1925;
	t1864 = 0.2e1 * t1935;
	t1875 = -0.6e1 * t1944;
	t1492 = ((0.12e2 * t1660 * t1663 * t1945 + t1593 * t1863 + t1640 * t1796 + t1698 * t1833 - 0.4e1 * t1848) * t1828 + 0.8e1 * t1659 * t1848 + 0.12e2 * t1561 * t1925 + 0.6e1 * t1556 * t1845 + t1969 * t1652) * t1740 + t1503 * t1864 + (((t1595 * t1868 + t1795 + t1863) * t1859 + (-t1556 * t1652 + t1598 * t1797 - 0.4e1 * t1774) * t1873) * t1740 + t1830 * t1933) * t1630 + (0.24e2 * (-pkin(1) * t1661 * t1824 - t1662 * t1776 + t1663 * t1788 + t1698 * t1793) * t1908 - 0.64e2 * t1661 * t1780 - 0.96e2 * t1621 * t1818 - 0.48e2 * t1551 * t1845 + t1939 * t1958 + ((-t1698 * t1835 + t1796 + t1862) * t1830 - 0.48e2 * (-t1551 * t1652 + t1621 * t1797 - 0.4e1 * t1818) * t1944) * t1630) * t1844 + ((0.2e1 * (-0.2e1 * t1645 * t1698 - t1628 + t1786 + t1832) * t1924 + (-t1572 * t1698 + t1578 * t1938) * t1784 + 0.4e1 * t1524 * t1837 + (-0.28e2 * t1528 * t1915 - 0.6e1 * t1532 * t1955 + t1579 * t1786 + t1648 * t1832) * t1849 + pkin(3) * t1513 * t1944 + t1630 * (-t1537 * t1955 - 0.4e1 * t1554 * t1915 - 0.4e1 * t1659 * t1846) * t1875 + t1614 * t1960 + t1557 * t1785 - 0.6e1 * t1526 * t1915 - t1521 * t1955) * t1961 - t1499 * pkin(3) + ((-0.8e1 * t1543 * t1915 + t1775 * t1653) * t1828 - 0.96e2 * t1647 * t1926 * t1653 + t1559 * t1786 + 0.12e2 * t1527 * t1915 + (t1515 * t1875 + t1530 * t1860 + (-0.24e2 * t1631 + 0.64e2 * t1816) * t1924 + (0.48e2 * t1555 * t1908 + 0.6e1 * t1525) * pkin(1)) * pkin(3) + ((t1602 * t1958 + t1611 * t1938) * t1859 + (0.24e2 * pkin(1) * t1663 * t1841 - 0.4e1 * t1545 * t1955 + 0.8e1 * t1560 * t1915) * t1873) * t1630) * t1740) * t1696;
	t1827 = 0.12e2 * t1908;
	t1497 = (t1733 * t1660 * t1860 + (t1655 * t1652 + t1862) * t1851 + 0.4e1 * t1774 + t1639 * t1795 + t1591 * t1652) * t1740 + t1512 * t1864 + t1827 * t1933 + ((-0.8e1 / 0.3e1 * t1925 + t1797 + t1698 * t1871) * t1827 - 0.24e2 * t1818 - 0.24e2 * t1600 * t1845 - 0.6e1 * t1550 * t1652) * t1844 + (0.24e2 * (-t1601 * t1659 - t1740 * t1653) * t1846 + ((0.16e2 * t1602 * t1908 - 0.2e1 * t1568) * t1740 + (-0.144e3 * t1567 * t1908 - 0.24e2 * t1548) * t1601 * t1733) * t1698 + (t1699 * t1740 * t1877 + (t1523 * t1873 + t1584 * t1859) * t1601 - t1508 + ((pkin(2) * t1666 * t1858 + 0.4e1 * t1566) * t1740 + (-0.48e2 * t1575 * t1908 - 0.6e1 * t1534) * t1601) * pkin(1)) * pkin(3)) * t1696 + ((0.8e1 * t1698 * t1837 + ((-pkin(3) * t1639 + 0.4e1 * t1733 * t1624) * t1698 + (-t1610 * t1940 - t1909) * t1975) * t1874) * t1740 + ((t1631 - 0.8e1 * t1816) * t1860 + ((-0.8e1 * t1636 * t1696 + t1872 * t1653) * t1698 + (-0.4e1 * t1573 * t1940 - 0.8e1 * t1779) * pkin(1)) * t1875) * t1601) * t1630;
	t1506 = -t1934 + t1574 * t1864 + pkin(3) * t1660 * t1962 + t1538 * t1698 + (-t1581 + t1792) * t1624;
	t1507 = t1896 * t1740 + t1576 * t1864 + (t1629 * t1564 + 0.4e1 * t1839) * t1696 + (t1878 * t1916 + (t1615 * t1698 + 0.4e1 * t1629 * t1941) * pkin(2)) * t1697;
	t1569 = t1576 * pkin(3);
	t1822 = t1546 * t1911;
	t1902 = (-t1569 * t1757 + (t1492 * t1815 + t1506 * t1949 - t1510 * t1935 / 0.2e1 + (t1497 * t1813 + t1507 * t1952) * t1496) * t1546) * t1911 - t1762 * t1822;
	t1901 = (-t1569 * t1758 + (t1507 * t1948 + t1509 * t1935 / 0.2e1 + t1492 * t1814 + (t1497 * t1812 + t1506 * t1952) * t1496) * t1546) * t1911 + t1761 * t1822;
	t1481 = -t1901 * t1589 + t1902 * t1590;
	t1482 = t1902 * t1589 + t1901 * t1590;
	t1781 = t1481 * t1697 + t1699 * t1482;
	t1764 = t1481 * t1699 - t1482 * t1697;
	t1760 = t1904 * t1697 + t1976 * t1699;
	t1 = [t1760, t1781; t1965, -t1764; 0, 0; -t1965, t1764; t1760, t1781; 0, 0; 0, 0; 0, 0; 0, 0;];
	JR_rot = t1;
elseif link_index == 3
	%% Symbolic Calculation
	% From jacobiR_rot_3_floatb_twist_matlab.m
	% OptimizationMode: 2
	% StartTime: 2020-04-27 10:19:04
	% EndTime: 2020-04-27 10:19:04
	% DurationCPUTime: 0.01s
	% Computational Cost: add. (3->3), mult. (0->0), div. (0->0), fcn. (4->2), ass. (0->3)
	t9 = cos(qJ(2));
	t8 = sin(qJ(2));
	t1 = [0, -t8; 0, t9; 0, 0; 0, -t9; 0, -t8; 0, 0; 0, 0; 0, 0; 0, 0;];
	JR_rot = t1;
elseif link_index == 4
	%% Symbolic Calculation
	% From jacobiR_rot_4_floatb_twist_matlab.m
	% OptimizationMode: 2
	% StartTime: 2020-04-27 10:19:06
	% EndTime: 2020-04-27 10:19:07
	% DurationCPUTime: 0.59s
	% Computational Cost: add. (3936->111), mult. (8868->193), div. (80->4), fcn. (2288->6), ass. (0->92)
	t345 = sin(qJ(2));
	t403 = -t345 / 0.2e1;
	t351 = (pkin(4) ^ 2);
	t353 = pkin(3) ^ 2;
	t354 = pkin(2) ^ 2;
	t355 = pkin(1) ^ 2;
	t376 = -pkin(5) ^ 2 + t355;
	t368 = t354 + t376;
	t361 = t353 + t368;
	t334 = -t351 + t361;
	t348 = cos(qJ(1));
	t389 = pkin(2) * t348;
	t374 = pkin(1) * t389;
	t340 = -0.2e1 * t374;
	t329 = t340 + t334;
	t346 = sin(qJ(1));
	t382 = t345 * t346;
	t337 = pkin(2) * t382;
	t363 = pkin(3) * t337;
	t336 = -0.2e1 * t363;
	t322 = t336 + t329;
	t338 = pkin(1) - t389;
	t347 = cos(qJ(2));
	t332 = t338 * t347;
	t341 = (t353 - t355) * t354;
	t344 = t348 ^ 2;
	t343 = t347 ^ 2;
	t377 = t340 + t355;
	t397 = 0.2e1 * t344;
	t330 = t354 * t397 - t354 + t377;
	t399 = -0.2e1 * t330;
	t360 = t343 * t399 - t376;
	t395 = -pkin(4) + pkin(5);
	t396 = -pkin(4) - pkin(5);
	t356 = sqrt(0.4e1 * t341 * t344 + 0.4e1 * t334 * t374 - (t355 + (pkin(2) - t396) * (pkin(2) + t396)) * (t355 + (pkin(2) - t395) * (pkin(2) + t395)) + 0.4e1 * (-t322 * t332 + t329 * t337) * pkin(3) + ((2 * t351) - 0.6e1 * t354 + 0.2e1 * t360 - t353) * t353);
	t314 = 0.1e1 / t356;
	t383 = t343 * t353;
	t384 = t330 * t347;
	t386 = pkin(3) * t347;
	t388 = pkin(3) * t338;
	t390 = pkin(2) * t346;
	t398 = 0.2e1 * t338;
	t402 = t314 * ((t322 * t388 + 0.2e1 * t353 * t384) * t345 + (t329 * t386 + t383 * t398) * t390);
	t401 = -0.4e1 * pkin(2);
	t370 = pkin(3) * t332;
	t321 = t336 + t353 + t354 + 0.2e1 * t370 + t377;
	t320 = 0.1e1 / t321 ^ 2;
	t400 = 0.2e1 * t320;
	t333 = 0.3e1 * t353 + t351 + t368;
	t323 = t333 + t340 - 0.4e1 * t363;
	t380 = t346 * t347;
	t327 = pkin(2) * t380 + t345 * t338;
	t385 = t327 * t356;
	t391 = pkin(1) * (t337 - pkin(3));
	t310 = -t323 * t332 + t385 + (t333 * t382 - 0.2e1 * t348 * t391) * pkin(2) + (-t351 - t353 + (t397 - 0.3e1) * t354 + t360) * pkin(3);
	t394 = -t310 / 0.2e1;
	t393 = t345 / 0.2e1;
	t392 = t347 / 0.2e1;
	t387 = pkin(3) * t343;
	t381 = t345 * t348;
	t379 = t347 * t348;
	t378 = -t337 + t332;
	t375 = -0.2e1 * pkin(1) * t354;
	t372 = -0.4e1 * t348 * t354;
	t371 = pkin(3) * t384;
	t369 = pkin(2) * t381;
	t342 = pkin(1) * t390;
	t339 = 0.2e1 * t342;
	t331 = t346 * t372 + t339;
	t362 = pkin(3) * t369;
	t364 = -0.8e1 * t370;
	t367 = (-0.4e1 * t331 * t383 + (t342 - t362) * t364 + 0.4e1 * t329 * t362 + (t322 * t386 * t401 - 0.8e1 * t341 * t348 + (0.8e1 * pkin(3) * t354 * t382 + t334 * t401) * pkin(1)) * t346) * t314 / 0.2e1;
	t328 = t340 + t351 + t361;
	t317 = t338 * t328 + 0.2e1 * t371;
	t326 = pkin(3) + t378;
	t366 = t394 + t385 / 0.2e1 - t326 * t402 - t317 * t347 / 0.2e1 + ((-t328 + t364) * t390 + pkin(3) * t345 * t399) * t403;
	t318 = t328 * t347 + (0.4e1 * t343 - 0.2e1) * t388;
	t311 = t317 * t345 + t318 * t390 + t326 * t356;
	t365 = t311 / 0.2e1 - t378 * t356 / 0.2e1 - t327 * t402 + (t338 * t323 + 0.4e1 * t371) * t403 - (t375 * t379 + (t333 * t347 + 0.4e1 * t338 * t387) * pkin(2)) * t346 / 0.2e1;
	t359 = t310 * t393 + t311 * t392;
	t358 = (t311 * t393 + t347 * t394) * t400;
	t352 = 0.1e1 / pkin(4);
	t325 = t327 * pkin(3);
	t324 = t342 + (t380 - t381) * pkin(3) * pkin(2);
	t319 = 0.1e1 / t321;
	t307 = (pkin(2) * t379 + t337) * t356 + t327 * t367 - 0.2e1 * t331 * t387 - (t339 - 0.4e1 * t362) * t332 + t344 * t345 * t375 + t333 * t369 + (pkin(3) * t372 + (-t323 * t347 + 0.2e1 * t391) * pkin(2)) * t346;
	t306 = t326 * t367 + 0.2e1 * t331 * t345 * t386 + ((-t345 * t356 + t318) * t348 + (t347 * t356 + (pkin(1) * t398 + t328) * t345 + 0.2e1 * (pkin(1) * t347 - pkin(3) + 0.2e1 * t387) * t390) * t346) * pkin(2);
	t305 = ((t306 * t403 + t307 * t392) * t319 + t324 * t358) * t352;
	t304 = ((t306 * t392 + t307 * t393) * t319 - 0.2e1 * t359 * t324 * t320) * t352;
	t303 = (-t359 * t325 * t400 + (t365 * t345 + t366 * t347) * t319) * t352;
	t302 = (-t325 * t358 + (t366 * t345 - t365 * t347) * t319) * t352;
	t1 = [t305, t302; t304, -t303; 0, 0; -t304, t303; t305, t302; 0, 0; 0, 0; 0, 0; 0, 0;];
	JR_rot = t1;
end