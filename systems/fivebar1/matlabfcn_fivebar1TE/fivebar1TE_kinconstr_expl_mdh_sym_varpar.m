% Explicit kinematic constraints of
% fivebar1TE
% Use Code from Maple symbolic Code Generation
% 
% Input:
% qJ [2x1]
%   Generalized joint coordinates (joint angles)
% pkin [5x1]
%   kinematic parameters (e.g. lengths of the links)
%   pkin=[AB,AE,BC,CD,ED]';
% 
% Output:
% jv [6x1]
%   Joint variables (rotation around z or translation in z-direction according to MDH)
%
% Sources:
% [NakamuraGho1989] Nakamura, Yoshihiko and Ghodoussi, Modjtaba: Dynamics computation of closed-link robot mechanisms with nonredundant and redundant actuators (1989)

% Quelle: HybrDyn-Toolbox
% Datum: 2020-04-27 10:28
% Revision: 970157063c8b7bcb25458a457551a083b21abdbd (2020-04-26)
% Moritz Schappler, moritz.schappler@imes.uni-hannover.de
% (C) Institut für Mechatronische Systeme, Universität Hannover

function jv = fivebar1TE_kinconstr_expl_mdh_sym_varpar(qJ, pkin)
%% Coder Information
%#codegen
%$cgargs {zeros(2,1),zeros(5,1)}
assert(isreal(qJ) && all(size(qJ) == [2 1]), ...
  'fivebar1TE_kinconstr_expl_mdh_sym_varpar: qJ has to be [2x1] (double)');
assert(isreal(pkin) && all(size(pkin) == [5 1]), ...
  'fivebar1TE_kinconstr_expl_mdh_sym_varpar: pkin has to be [5x1] (double)');

%% Symbolic Calculation
% From kinconstr_expl_matlab.m
% OptimizationMode: 2
% StartTime: 2020-04-27 09:09:44
% EndTime: 2020-04-27 09:09:47
% DurationCPUTime: 3.16s
% Computational Cost: add. (4240->381), mult. (12600->465), div. (37->5), fcn. (1459->9), ass. (0->201)
t261 = 4 * pkin(3);
t122 = pkin(4) ^ 2;
t119 = pkin(5) ^ 2;
t70 = -t119 / 0.3e1;
t260 = t70 - t122 / 0.3e1;
t118 = t119 ^ 2;
t121 = t122 ^ 2;
t259 = -t118 / 0.6e1 + t121 / 0.6e1;
t91 = cos(qJ(2));
t56 = t91 ^ 2;
t258 = -0.2e1 * t56;
t127 = pkin(3) ^ 2;
t125 = t127 ^ 2;
t257 = 4 * t125;
t256 = 2 * t127;
t105 = 6 * t127;
t131 = (pkin(2) ^ 2);
t255 = 2 * t131;
t133 = (pkin(1) ^ 2);
t116 = 2 * t133;
t138 = t131 ^ 2;
t108 = 5 * t138;
t100 = -0.2e1 * t119;
t101 = -0.5e1 * t119;
t102 = 7 * t125;
t103 = 5 * t125;
t104 = 7 * t127;
t106 = 3 * t127;
t109 = 3 * t131;
t132 = t133 ^ 2;
t112 = 3 * t132;
t113 = 8 * t133;
t114 = 4 * t133;
t137 = pkin(2) * t131;
t128 = t137 ^ 2;
t134 = pkin(1) * t133;
t141 = pkin(3) * t127;
t217 = t125 + t132;
t222 = t116 - t119;
t224 = t133 * t119;
t15 = t222 * t127 + t217 - t224 - t259;
t150 = t138 + t15;
t89 = sin(qJ(2));
t90 = sin(qJ(1));
t245 = t89 * t90;
t206 = pkin(2) * t245;
t174 = pkin(3) * t206;
t87 = t131 / 0.2e1;
t228 = t133 + t87;
t152 = -t174 + t228;
t163 = -0.4e1 * t174;
t214 = t131 + t133;
t177 = t127 + t214;
t71 = -t119 / 0.2e1;
t31 = t71 + t177;
t155 = t31 * t163;
t164 = -0.6e1 * t174;
t241 = t118 / 0.2e1 - t121 / 0.2e1;
t167 = t112 - 0.3e1 * t224 + t241;
t115 = 3 * t133;
t73 = -0.3e1 / 0.2e1 * t119;
t226 = t73 + t115;
t50 = t127 + t133;
t229 = t50 * ((t73 + t116) * t127 - 0.3e1 / 0.2e1 * t224 + t217 + t241) + t128;
t45 = 0.10e2 / 0.3e1 * t127;
t97 = 15 * t125;
t98 = 15 * t127;
t156 = (t97 + (-0.9e1 * t119 + (18 * t133)) * t127 + t167) * t131 + (t98 + t226) * t138 + ((t45 + t222) * t131 + t150) * t164 + t229;
t180 = t106 + t214;
t250 = pkin(3) * t89;
t48 = pkin(2) * t90;
t158 = t180 * t48 - t250 * (t109 + t50);
t221 = t118 - t121;
t159 = (6 * t132) - 0.6e1 * t224 + t221;
t72 = -0.2e1 / 0.3e1 * t119;
t182 = t72 + t50;
t99 = 10 * t127;
t225 = t99 + t116;
t219 = t119 + t122;
t38 = t115 - t219;
t230 = t38 * t127;
t82 = -0.2e1 / 0.3e1 * t122;
t239 = t72 + t82;
t160 = -(t108 + ((5 * t127) + t38) * t255 + (t82 + t182) * t50) * t250 + (t138 + (t225 + t239) * t131 + t103 + 0.2e1 * t230 + t133 * (t133 + t239)) * t48;
t186 = t133 + t260;
t162 = t127 + t186;
t68 = -t119 / 0.6e1;
t240 = t68 - t122 / 0.6e1;
t191 = t133 + t240;
t165 = t87 + t191;
t77 = 0.2e1 / 0.3e1 * t122;
t192 = t116 + t72 + t77;
t78 = t122 / 0.3e1;
t22 = t70 + t78 + t177;
t227 = t138 + (t77 + t182) * t50;
t166 = t22 * t163 + t227 + (t105 + t192) * t131;
t198 = t141 * t48;
t55 = t91 * t56;
t168 = t55 * t198;
t237 = t125 * t56 ^ 2;
t169 = t237 * t48;
t231 = t141 * t55;
t195 = 0.16e2 * t231;
t170 = pkin(1) * t195;
t171 = 0.20e2 / 0.3e1 * t127;
t200 = pkin(1) * t231;
t172 = 0.8e1 * t200;
t218 = t119 - t133;
t178 = t122 + t218;
t220 = -t119 + t122;
t179 = t115 + t220;
t29 = -0.2e1 * t174;
t43 = t133 - t131 / 0.3e1;
t18 = t43 * t29;
t47 = pkin(3) * t91;
t207 = pkin(1) * t47;
t183 = 0.6e1 * t207;
t184 = 0.4e1 * t207;
t187 = t119 / 0.3e1 + t78 + t116;
t188 = 0.2e1 / 0.3e1 * t119 + t77 + t114;
t189 = 0.4e1 / 0.3e1 * t119 + 0.4e1 / 0.3e1 * t122 - (2 * t133);
t190 = t133 + t71 - t122 / 0.2e1;
t193 = -t250 / 0.2e1;
t236 = t127 * t56;
t196 = 0.12e2 * t236;
t242 = (pkin(1) + pkin(2)) * (pkin(1) - pkin(2));
t197 = t89 * t242;
t199 = t127 * t48;
t92 = cos(qJ(1));
t59 = t92 ^ 2;
t233 = t137 * t92 * t59;
t201 = 0.8e1 * t233;
t203 = 0.4e1 * t236;
t204 = -0.4e1 * t236;
t205 = 0.8e1 * t237;
t209 = 4 * pkin(1);
t211 = 0.2e1 * t250;
t212 = t132 + t138;
t213 = t132 - t125;
t215 = -t131 + t133;
t216 = t127 - t133;
t223 = t133 * t127;
t251 = pkin(2) * t92;
t34 = pkin(1) - t251;
t23 = t34 + t47;
t232 = t138 * t59 ^ 2;
t234 = t133 * t219;
t235 = t131 * t59;
t238 = 0.4e1 / 0.7e1 * t133 - t119 / 0.7e1;
t243 = (pkin(1) + pkin(3)) * (pkin(1) - pkin(3));
t176 = -t119 + t50;
t44 = t50 ^ 2;
t246 = t44 * (-t122 + t176);
t248 = (-t141 * t89 + t199) * t56;
t110 = -3 * t131;
t53 = t110 + t133;
t26 = t53 * t172;
t28 = 0.10e2 * t230;
t32 = t122 + t176;
t35 = pkin(1) + t47;
t36 = 0.2e1 * t207;
t40 = (t114 + t119) * t127;
t42 = -t127 / 0.3e1 + t133;
t46 = -0.30e2 * t119 + (60 * t133);
t52 = -3 * t127 + t133;
t69 = -t119 / 0.4e1;
t175 = -t119 + t214;
t157 = t127 + t175;
t153 = -t122 + t157;
t208 = pkin(1) * t251;
t37 = -0.2e1 * t208;
t151 = t37 + t153;
t202 = 0.2e1 * t235;
t17 = t37 + t202 + t215;
t247 = t34 * t91;
t252 = (-pkin(4) + pkin(5));
t253 = (-pkin(4) - pkin(5));
t7 = sqrt(t17 * t204 + 0.4e1 * t216 * t235 + 0.4e1 * t153 * t208 - t125 + (t110 + t178) * t256 - ((t133 + (pkin(2) - t253) * (pkin(2) + t253)) * (t133 + (pkin(2) - t252) * (pkin(2) + t252))) + (-(t29 + t151) * t247 + t151 * t206) * t261);
t83 = 0.4e1 / 0.3e1 * t127;
t84 = t127 / 0.3e1;
t85 = t127 / 0.2e1;
t254 = ((-0.24e2 * (0.4e1 / 0.3e1 * t236 + t36 + t42) * t232 * t250 - 0.12e2 * (-0.8e1 / 0.3e1 * t169 + ((t83 + t165) * t48 - (0.4e1 / 0.3e1 * t131 + t85 + t191) * t250) * t203 + (-(t131 * t216) - 0.5e1 / 0.3e1 * t125 + t187 * t127 + t133 * t186) * t48 + (-t138 + (-t171 + t188) * t131 - (3 * t125) + t189 * t127 + t132) * t193 + (-t89 * t125 * t55 + ((t127 + t165) * t48 + (t255 - t216) * t193) * t47) * t209) * t235 + 0.24e2 * t43 * t169 + ((t109 + 0.3e1 / 0.2e1 * t127 + t190) * t48 + t53 * t250 / 0.2e1) * t170 - 0.6e1 * ((-(3 * t138) + (-t171 + t189) * t131 + t188 * t127 + t213) * t48 - 0.2e1 * (-0.5e1 / 0.3e1 * t138 + (-t127 + t187) * t131 + t133 * t162) * t250) * t236 - 0.6e1 * t160 * t207 - (t128 + ((21 * t127) + t38) * t138 + (t112 + (35 * t125) + t28 - 0.2e1 * t234) * t131 + (t102 + (t101 + t113 - 0.5e1 * t122) * t127 - t133 * t178) * t50) * t48 + ((7 * t128) + (t104 + t38) * t108 + ((21 * t125) + (9 * t132) + t28 - 0.6e1 * t234) * t131 + t246) * t250) * t7 + (0.16e2 * (t205 + t170 + (-8 * t125 + 12 * t223) * t56 + (-12 * pkin(1) * t141 + t134 * t261) * t91 - (6 * t223) + t217) * t232 + 0.24e2 * ((t133 - 0.2e1 / 0.3e1 * t131) * t205 + 0.14e2 * (-0.32e2 / 0.21e2 * (t133 + t131 / 0.4e1 + t127 / 0.4e1 - t119 / 0.8e1) * t174 + t138 / 0.7e1 + (0.16e2 / 0.21e2 * t127 + t238) * t131 + t125 / 0.7e1 + t238 * t127 + t132 - 0.3e1 / 0.7e1 * t224 + t118 / 0.42e2 - t121 / 0.42e2) * t236 + t42 * t155 - (t216 * t138) + (-0.10e2 / 0.3e1 * t125 + (2 * t132) - t224 + t40) * t131 + t15 * t243 + ((-0.2e1 / 0.3e1 * t174 + t133 + t85 + t69) * t195 + 0.6e1 * (-0.8e1 / 0.3e1 * (t69 + t84 + t228) * t174 + t138 / 0.3e1 + (0.4e1 / 0.3e1 * t133 + t83 + t70) * t131 + t132 + 0.2e1 / 0.3e1 * t223 - 0.2e1 / 0.3e1 * t224 - t125 / 0.3e1 + t118 / 0.18e2 - t121 / 0.18e2) * t47) * pkin(1)) * t235 + 0.16e2 * (-6 * t133 * t131 + t212) * t237 + 0.32e2 * (t242 * t29 + t31 * t53) * t200 + 0.24e2 * (t43 * t155 - t128 + (-t45 + t218) * t138 + (t40 + t213 + t259) * t131 + t15 * t133) * t236 + 0.8e1 * t156 * t207 - 0.8e1 * ((t104 + t226) * t138 + (t102 + (t101 + (10 * t133)) * t127 + t167) * t131 + t229) * t174 + (t138 ^ 2) + (t100 + t114 + (28 * t127)) * t128 + (t46 * t127 + (70 * t125) + t159) * t138 + (t159 * t105 + t221 * t116 - 0.6e1 * t132 * t119 + t46 * t125 + (4 * t134 ^ 2) + (28 * t141 ^ 2)) * t131 + t32 * t246) * t23 + (((0.4e1 * t248 + (t48 + t211) * t36 + t52 * t48 + (0.3e1 / 0.2e1 * t131 + t106 + t190) * t211) * t201 + 0.6e1 * ((0.2e1 * (t85 + t131 + t240) * t48 + pkin(3) * t197) * t204 + (-0.8e1 * t168 + 0.4e1 * ((t180 + t260) * t48 - (t109 + t162) * t250) * t47) * pkin(1) + t160) * t251) * t7 + (-0.32e2 * (t172 + (-0.4e1 * t89 * t198 + t257 + ((4 * t131) + t100 + t113) * t127) * t56 + (-t127 + t152 + t69) * t184 + t29 * t243 + t52 * t31) * t233 - 0.8e1 * (t26 + (t242 * t31 + t18) * t196 + (t155 + (t105 + t222) * t131 + t150) * t183 + t156) * t251) * t23) * t35) / ((-0.4e1 * (0.2e1 * t248 + (t256 + t131) * t250 + (-t216 + t36) * t48) * t235 + 0.8e1 * pkin(1) * t168 + ((pkin(2) * t257 + 8 * t127 * t137) * t90 + 0.4e1 * t141 * t197) * t56 - 0.4e1 * t158 * t207 - (t225 * t131 + t103 + t212 + 6 * t223) * t48 + (t108 + (t99 + 6 * t133) * t131 + t44) * t250) * t7 + (0.12e2 * (0.6e1 * (-0.4e1 / 0.9e1 * t174 + t133 + t131 / 0.3e1 + t84 + t122 / 0.9e1 - t119 / 0.9e1) * t236 + t42 * t29 + t22 * t243 + (t231 + (t122 / 0.6e1 + t68 + t152) * t47) * t209) * t235 + t26 + (t22 * t242 + t18) * t196 + t166 * t183 + ((t45 + t192) * t131 + t227) * t164 + t128 + (t98 + t179) * t138 + (t179 * t105 + t220 * t116 + t112 + t97) * t131 + t44 * t32) * t23 + ((t201 * t250 + 0.4e1 * (t199 * t258 + (t48 - t250) * t36 + t158) * t251) * t7 + (-0.8e1 * (t36 + t203 + t52) * t233 - 0.6e1 * (t215 * t203 + (t29 + t22) * t184 + t166) * t251) * t23) * t35);
t249 = 0.1e1 / pkin(4) / 0.2e1;
t244 = t90 * t91;
t210 = 0.2e1 * t47;
t194 = t254 / 0.4e1;
t10 = 0.1e1 / (t210 * t34 + t177 + t29 + t37);
t120 = 0.1e1 / pkin(5);
t185 = t10 * t120 / pkin(4) ^ 2;
t181 = t10 * t249;
t173 = t120 * t249;
t161 = -pkin(3) + t206;
t154 = t106 + t122 + t175;
t21 = t91 * t92 + t245;
t20 = t89 * t92 - t244;
t16 = t122 + t37 + t157;
t6 = (-t161 + t247) * t7 + (t16 * t34 + t17 * t210) * t89 + (t16 * t91 + (0.4e1 * t56 - 0.2e1) * t34 * pkin(3)) * t48;
t5 = (pkin(2) * t244 + t34 * t89) * t7 - (t154 + t37 + t163) * t247 + t161 * t37 + t154 * t206 + (t17 * t258 - t109 + t202 - t32) * pkin(3);
t2 = (t5 * t7 / 0.4e1 + t6 * t194) * t185;
t1 = (t5 * t194 - t6 * t7 / 0.4e1) * t185;
t3 = [qJ(1); atan2(t1 * t20 + t2 * t21, t1 * t21 - t2 * t20); qJ(2); atan2(t6 * t181, t5 * t181); atan2(t7 * t173, t173 * t254); 0;];
jv = t3(:);
