% Rotatorische Teilmatrix der Rotationsmatrix-Jacobi-Matrix für beliebiges Segment von
% fivebar1DE2
% Use Code from Maple symbolic Code Generation
% 
% Rotationsmatrix-Jacobi-Matrix: Differentieller Zusammenhang zwischen
% gestapelter Endeffektor-Rotationsmatrix und verallgemeinerten Koordinaten.
% 
% 
% Input:
% qJ [2x1]
%   Generalized joint coordinates (joint angles)
% link_index [1x1 uint8]
%   Index des Segmentes, auf dem der Punkt C liegt. (0=Basis).
%   Siehe auch: bsp_3T1R_fkine_fixb_rotmat_mdh_sym_varpar.m
% pkin [5x1]
%   kinematic parameters (e.g. lengths of the links)
%   pkin=[AB,AE,BC,CD,ED]';
% 
% Output:
% JR_rot [9x2]
%   Jacobi-Matrix der Endeffektor-Rotationsmatrix

% Quelle: HybrDyn-Toolbox
% Datum: 2020-04-27 06:03
% Revision: 970157063c8b7bcb25458a457551a083b21abdbd (2020-04-26)
% Moritz Schappler, moritz.schappler@imes.uni-hannover.de
% (C) Institut für Mechatronische Systeme, Universität Hannover

function JR_rot = fivebar1DE2_jacobiR_rot_sym_varpar(qJ, link_index, pkin)
%% Coder Information
%#codegen
%$cgargs {zeros(2,1),uint8(0),zeros(5,1)}
assert(isreal(qJ) && all(size(qJ) == [2 1]), ...
  'fivebar1DE2_jacobiR_rot_sym_varpar: qJ has to be [2x1] (double)');
assert(isa(link_index,'uint8') && all(size(link_index) == [1 1]), ...
	'fivebar1DE2_jacobiR_rot_sym_varpar: link_index has to be [1x1] uint8');
assert(isreal(pkin) && all(size(pkin) == [5 1]), ...
  'fivebar1DE2_jacobiR_rot_sym_varpar: pkin has to be [5x1] (double)');
JR_rot=NaN(9,2);
if link_index == 0
	%% Symbolic Calculation
	% From jacobiR_rot_0_floatb_twist_matlab.m
	% OptimizationMode: 2
	% StartTime: 2020-04-27 05:51:21
	% EndTime: 2020-04-27 05:51:21
	% DurationCPUTime: 0.01s
	% Computational Cost: add. (0->0), mult. (0->0), div. (0->0), fcn. (0->0), ass. (0->1)
	t1 = [0, 0; 0, 0; 0, 0; 0, 0; 0, 0; 0, 0; 0, 0; 0, 0; 0, 0;];
	JR_rot = t1;
elseif link_index == 1
	%% Symbolic Calculation
	% From jacobiR_rot_1_floatb_twist_matlab.m
	% OptimizationMode: 2
	% StartTime: 2020-04-27 05:51:21
	% EndTime: 2020-04-27 05:51:21
	% DurationCPUTime: 0.01s
	% Computational Cost: add. (3->3), mult. (0->0), div. (0->0), fcn. (4->2), ass. (0->3)
	t9 = cos(qJ(1));
	t8 = sin(qJ(1));
	t1 = [-t8, 0; t9, 0; 0, 0; -t9, 0; -t8, 0; 0, 0; 0, 0; 0, 0; 0, 0;];
	JR_rot = t1;
elseif link_index == 2
	%% Symbolic Calculation
	% From jacobiR_rot_2_floatb_twist_matlab.m
	% OptimizationMode: 2
	% StartTime: 2020-04-27 05:52:07
	% EndTime: 2020-04-27 05:52:26
	% DurationCPUTime: 19.21s
	% Computational Cost: add. (288430->628), mult. (866888->974), div. (2080->9), fcn. (104000->9), ass. (0->448)
	t1756 = pkin(5) ^ 2;
	t1755 = t1756 ^ 2;
	t1759 = pkin(4) ^ 2;
	t1758 = t1759 ^ 2;
	t1921 = t1755 - t1758;
	t2011 = 4 * pkin(3);
	t2002 = 2 * pkin(1);
	t1969 = 2 * pkin(3);
	t1763 = pkin(3) ^ 2;
	t1694 = 0.10e2 / 0.3e1 * t1763;
	t1767 = pkin(2) ^ 2;
	t1706 = -0.2e1 / 0.3e1 * t1756;
	t1711 = 0.2e1 / 0.3e1 * t1759;
	t1769 = pkin(1) ^ 2;
	t1753 = 2 * t1769;
	t1835 = t1706 + t1711 + t1753;
	t1681 = t1763 + t1769;
	t1775 = t1767 ^ 2;
	t1834 = t1706 + t1681;
	t1934 = t1681 * (t1711 + t1834) + t1775;
	t1575 = (t1694 + t1835) * t1767 + t1934;
	t2010 = -0.6e1 * t1575;
	t1761 = t1763 ^ 2;
	t1768 = t1769 ^ 2;
	t1918 = t1761 + t1768;
	t1922 = t1753 - t1756;
	t1941 = t1769 * t1756;
	t2003 = -t1755 / 0.6e1 + t1758 / 0.6e1;
	t1601 = t1922 * t1763 + t1918 - t1941 - t2003;
	t1787 = t1601 + t1775;
	t1577 = (t1694 + t1922) * t1767 + t1787;
	t2009 = -0.6e1 * t1577;
	t1724 = sin(qJ(1));
	t1679 = pkin(2) * t1724;
	t1912 = 0.2e1 * t1679;
	t1992 = 4 * t1763;
	t1743 = 6 * t1763;
	t1704 = -t1756 / 0.3e1;
	t1712 = t1759 / 0.3e1;
	t1916 = t1767 + t1769;
	t1832 = t1763 + t1916;
	t1627 = t1704 + t1712 + t1832;
	t2008 = -0.24e2 * t1627;
	t1733 = 10 * t1763;
	t1726 = cos(qJ(1));
	t1691 = t1726 ^ 2;
	t1943 = t1767 * t1691;
	t1725 = cos(qJ(2));
	t1678 = pkin(3) * t1725;
	t1898 = pkin(1) * t1678;
	t1661 = 0.2e1 * t1898;
	t1673 = -t1763 / 0.3e1 + t1769;
	t1688 = t1725 ^ 2;
	t1944 = t1763 * t1688;
	t1605 = 0.4e1 / 0.3e1 * t1944 + t1661 + t1673;
	t1752 = 3 * t1769;
	t2004 = t1752 - t1756 - t1759;
	t1650 = t2004 * t1733;
	t1737 = -0.6e1 * t1756;
	t1774 = pkin(2) * t1767;
	t1764 = t1774 ^ 2;
	t1736 = -0.5e1 * t1756;
	t1923 = t1736 - 0.5e1 * t1759;
	t1689 = t1691 ^ 2;
	t1959 = t1689 * t1775;
	t1676 = t1681 ^ 2;
	t1831 = -t1756 + t1681;
	t1961 = t1676 * (-t1759 + t1831);
	t2007 = 0.7e1 * t1764 + ((35 * t1763) + (15 * t1769) + t1923) * t1775 + ((21 * t1761) + t1650 + (9 * t1768) + (t1737 - 0.6e1 * t1759) * t1769) * t1767 + t1961 - 0.24e2 * t1605 * t1959;
	t1683 = -3 * t1763 + t1769;
	t1888 = 0.4e1 * t1944;
	t2006 = t1683 + t1888;
	t2005 = t1704 - t1759 / 0.3e1;
	t2001 = -0.4e1 * pkin(2);
	t2000 = -4 * pkin(3);
	t1999 = -2 * pkin(3);
	t1707 = -0.3e1 / 0.2e1 * t1756;
	t1731 = 15 * t1761;
	t1734 = 18 * t1769;
	t1748 = 3 * t1768;
	t1931 = t1755 / 0.2e1 - t1758 / 0.2e1;
	t1804 = -0.3e1 * t1941 + t1748 + t1931;
	t1723 = sin(qJ(2));
	t1955 = t1723 * t1724;
	t1653 = pkin(2) * t1955;
	t1824 = pkin(3) * t1653;
	t1926 = 15 * t1763 + t1752;
	t1936 = t1681 * ((t1707 + t1753) * t1763 - 0.3e1 / 0.2e1 * t1941 + t1918 + t1931) + t1764;
	t1545 = t1824 * t2009 + (t1731 + (t1734 - 0.9e1 * t1756) * t1763 + t1804) * t1767 + (t1707 + t1926) * t1775 + t1936;
	t1705 = -t1756 / 0.2e1;
	t1649 = t1705 + t1832;
	t1809 = -0.4e1 * t1824;
	t1796 = t1649 * t1809;
	t1560 = t1796 + (t1743 + t1922) * t1767 + t1787;
	t1646 = -0.2e1 * t1824;
	t1674 = t1769 - t1767 / 0.3e1;
	t1612 = t1674 * t1646;
	t1948 = (pkin(1) + pkin(2)) * (pkin(1) - pkin(2));
	t1574 = t1649 * t1948 + t1612;
	t1684 = -0.3e1 * t1767 + t1769;
	t1687 = t1725 * t1688;
	t1778 = pkin(3) * t1763;
	t1960 = t1687 * t1778;
	t1883 = pkin(1) * t1960;
	t1829 = 0.8e1 * t1883;
	t1632 = t1684 * t1829;
	t1859 = 0.6e1 * t1898;
	t1865 = 0.12e2 * t1944;
	t1537 = t1560 * t1859 + t1574 * t1865 + t1545 + t1632;
	t1998 = 0.8e1 * t1537;
	t1978 = pkin(2) * t1726;
	t1658 = pkin(1) - t1978;
	t1628 = t1658 + t1678;
	t1997 = -0.8e1 * t1628;
	t1996 = -0.2e1 * t1725;
	t1995 = 0.8e1 * t1725;
	t1994 = -0.2e1 * t1726;
	t1993 = 4 * t1761;
	t1991 = -0.96e2 * t1674;
	t1990 = pkin(1) * pkin(3);
	t1989 = -pkin(4) - pkin(5);
	t1988 = -pkin(4) + pkin(5);
	t1718 = t1763 / 0.3e1;
	t1591 = -0.4e1 / 0.9e1 * t1824 + t1769 + t1767 / 0.3e1 + t1718 + t1759 / 0.9e1 - t1756 / 0.9e1;
	t1702 = -t1756 / 0.6e1;
	t1721 = t1767 / 0.2e1;
	t1928 = t1721 + t1769;
	t1792 = -t1824 + t1928;
	t1599 = t1759 / 0.6e1 + t1702 + t1792;
	t1949 = (pkin(1) + pkin(3)) * (pkin(1) - pkin(3));
	t1970 = 4 * pkin(1);
	t1546 = t1673 * t1646 + 0.6e1 * t1591 * t1944 + t1627 * t1949 + (t1599 * t1678 + t1960) * t1970;
	t1557 = t1627 * t1809 + (t1743 + t1835) * t1767 + t1934;
	t1597 = t1646 + t1627;
	t1917 = -t1767 + t1769;
	t1665 = t1917 * t1992;
	t1860 = 0.4e1 * t1898;
	t1547 = t1597 * t1860 + t1665 * t1688 + t1557;
	t1572 = t1627 * t1948 + t1612;
	t1609 = t1661 + t2006;
	t1651 = t1759 + t1831;
	t1735 = -0.2e1 * t1756;
	t1738 = 0.2e1 * t1759;
	t1659 = pkin(1) + t1678;
	t1690 = t1726 * t1691;
	t1958 = t1690 * t1774;
	t1856 = t1659 * t1958;
	t1871 = pkin(3) * t1955;
	t1963 = t1659 * t1726;
	t1532 = -0.8e1 * t1609 * t1856 + t1632 + t1572 * t1865 + t1557 * t1859 + t1764 + (-t1756 + t1759 + t1926) * t1775 + t1676 * t1651 + (0.12e2 * t1546 * t1691 + t1731 + (t1734 + t1737 + 0.6e1 * t1759) * t1763 + t1748 + (t1735 + t1738) * t1769) * t1767 + 0.6e1 * (-t1547 * t1963 - t1575 * t1871) * pkin(2);
	t1744 = 3 * t1763;
	t1669 = t1744 + t1916;
	t1633 = t1669 * t1679;
	t1975 = pkin(3) * t1723;
	t1640 = t1679 - t1975;
	t1877 = t1763 * t1679;
	t1815 = t1688 * t1877;
	t1747 = 0.3e1 * t1767;
	t1667 = t1747 + t1681;
	t1962 = t1667 * t1723;
	t1981 = pkin(1) * t1725;
	t1558 = -0.2e1 * t1815 + t1633 + (0.2e1 * t1640 * t1981 - t1962) * pkin(3);
	t1793 = -t1723 * t1778 + t1877;
	t1630 = 0.2e1 * t1793;
	t1680 = (2 * t1763) + t1767;
	t1682 = -t1763 + t1769;
	t1561 = t1680 * t1975 + t1630 * t1688 + (t1682 + t1661) * t1679;
	t1590 = -pkin(3) * t1962 + t1633;
	t1666 = pkin(2) * t1993 + 0.8e1 * t1763 * t1774;
	t1854 = t1778 * t1948;
	t1592 = t1666 * t1724 + 0.4e1 * t1723 * t1854;
	t1742 = 5 * t1761;
	t1914 = t1768 + t1775;
	t1925 = t1733 + t1753;
	t1940 = t1769 * t1763;
	t1608 = t1925 * t1767 + t1742 + t1914 + (6 * t1940);
	t1746 = 0.5e1 * t1775;
	t1750 = 6 * t1769;
	t1617 = t1746 + (t1733 + t1750) * t1767 + t1676;
	t1816 = 0.8e1 * t1856;
	t1887 = -0.4e1 * t1943;
	t1535 = t1561 * t1887 + t1592 * t1688 + (-0.4e1 * t1590 * t1981 + (t1617 + t1816) * t1723) * pkin(3) + (0.4e1 * t1558 * t1963 + (-t1608 + t1829) * t1724) * pkin(2);
	t1830 = -t1756 + t1916;
	t1801 = t1763 + t1830;
	t1644 = -t1759 + t1801;
	t1899 = pkin(1) * t1978;
	t1663 = -0.2e1 * t1899;
	t1607 = t1663 + t1644;
	t1587 = t1646 + t1607;
	t1642 = t1658 * t1725;
	t1692 = t1767 * t1992;
	t1942 = t1767 * t1769;
	t1664 = t1692 - 0.4e1 * t1942;
	t1754 = -2 * t1769;
	t1886 = 0.2e1 * t1943;
	t1610 = t1663 + t1886 + t1917;
	t1964 = t1610 * t1688;
	t1770 = sqrt(t1664 * t1691 + 0.4e1 * t1644 * t1899 - t1761 - (t1769 + (pkin(2) - t1988) * (pkin(2) + t1988)) * (t1769 + (pkin(2) - t1989) * (pkin(2) + t1989)) + (t1738 + t1754 + 0.2e1 * t1756 - 0.6e1 * t1767 - 0.4e1 * t1964) * t1763 + (-t1587 * t1642 + t1607 * t1653) * t2011);
	t1526 = t1532 * t1628 + t1535 * t1770;
	t1987 = 0.1e1 / t1526 / 0.4e1;
	t1986 = -0.1e1 / t1526 ^ 2 / 0.4e1;
	t1542 = 0.1e1 / t1770;
	t1985 = t1542 / 0.2e1;
	t1984 = 0.4e1 / 0.3e1 * t1767;
	t1983 = -t1770 / 0.4e1;
	t1982 = t1770 / 0.4e1;
	t1980 = pkin(1) * t1761;
	t1979 = pkin(1) * t1763;
	t1977 = pkin(3) * t1658;
	t1976 = pkin(3) * t1688;
	t1974 = t1545 * pkin(3);
	t1973 = t1673 * pkin(3);
	t1972 = -6 * t1990;
	t1971 = -4 * t1990;
	t1638 = t1769 + t1767 / 0.4e1 + t1763 / 0.4e1 - t1756 / 0.8e1;
	t1927 = 0.4e1 / 0.7e1 * t1769 - t1756 / 0.7e1;
	t1555 = -0.32e2 / 0.21e2 * t1638 * t1824 + t1775 / 0.7e1 + (0.16e2 / 0.21e2 * t1763 + t1927) * t1767 + t1761 / 0.7e1 + t1927 * t1763 + t1768 - 0.3e1 / 0.7e1 * t1941 + t1921 / 0.42e2;
	t1703 = -t1756 / 0.4e1;
	t1639 = t1703 + t1718 + t1928;
	t1717 = 0.4e1 / 0.3e1 * t1763;
	t1556 = -0.8e1 / 0.3e1 * t1639 * t1824 + t1775 / 0.3e1 + (t1717 + t1704) * t1767 + t1768 - t1761 / 0.3e1 + (t1984 + 0.2e1 / 0.3e1 * t1763 + t1706) * t1769 + t1921 / 0.18e2;
	t1719 = t1763 / 0.2e1;
	t1604 = -0.2e1 / 0.3e1 * t1824 + t1769 + t1719 + t1703;
	t1751 = 4 * t1769;
	t1670 = (t1751 + t1756) * t1763;
	t1675 = t1769 - 0.2e1 / 0.3e1 * t1767;
	t1869 = 0.16e2 * t1960;
	t1686 = t1688 ^ 2;
	t1946 = t1761 * t1686;
	t1891 = 0.8e1 * t1946;
	t1536 = t1675 * t1891 + 0.14e2 * t1555 * t1944 + t1673 * t1796 + t1682 * t1775 + (t1670 - 0.10e2 / 0.3e1 * t1761 + (2 * t1768) - t1941) * t1767 + t1601 * t1949 + (0.6e1 * t1556 * t1678 + t1604 * t1869) * pkin(1);
	t1749 = 8 * t1769;
	t1596 = -0.4e1 * t1778 * t1653 + t1692 + t1993 + (t1735 + t1749) * t1763;
	t1602 = t1703 - t1763 + t1792;
	t1896 = 0.8e1 * t1960;
	t1902 = 0.4e1 * t1678;
	t1548 = t1646 * t1949 + t1596 * t1688 + t1649 * t1683 + (t1602 * t1902 + t1896) * pkin(1);
	t1915 = t1768 - t1761;
	t1919 = t1756 - t1769;
	t1549 = t1674 * t1796 - t1764 + (-t1694 + t1919) * t1775 + (t1670 + t1915 + t2003) * t1767 + t1769 * t1601;
	t1741 = 7 * t1761;
	t1554 = (t1707 + t1752 + (7 * t1763)) * t1775 + (t1741 + (t1736 + (10 * t1769)) * t1763 + t1804) * t1767 + t1936;
	t1771 = pkin(1) * t1769;
	t1657 = -12 * pkin(1) * t1778 + t1771 * t2011;
	t1672 = -8 * t1761 + 12 * t1940;
	t1818 = pkin(1) * t1869;
	t1566 = t1657 * t1725 + t1672 * t1688 + t1818 + t1891 + t1918 - (6 * t1940);
	t1578 = t1646 * t1948 + t1649 * t1684;
	t1634 = 0.16e2 * (t1914 - 0.6e1 * t1942) * t1761;
	t1677 = -0.30e2 * t1756 + (60 * t1769);
	t1794 = (6 * t1768) + t1921 - 0.6e1 * t1941;
	t1811 = -0.32e2 * t1856;
	t1523 = t1548 * t1811 + t1634 * t1686 + 0.24e2 * t1549 * t1944 + (t1735 + t1751 + (28 * t1763)) * t1764 + t1651 * t1961 + (0.24e2 * t1536 * t1691 + t1677 * t1761 + t1768 * t1737 + t1794 * t1743 + t1921 * t1753 + (4 * t1771 ^ 2) + (28 * t1778 ^ 2)) * t1767 + 0.8e1 * (-t1537 * t1963 - t1554 * t1871) * pkin(2) + (0.32e2 * t1578 * t1960 + t1974 * t1995) * pkin(1) + (0.16e2 * t1566 * t1689 + t1677 * t1763 + (70 * t1761) + t1775 + t1794) * t1775;
	t1930 = t1702 - t1759 / 0.6e1;
	t1838 = t1769 + t1930;
	t1620 = t1984 + t1719 + t1838;
	t1803 = t1721 + t1838;
	t1621 = t1717 + t1803;
	t1567 = -t1620 * t1975 + t1621 * t1679;
	t1623 = t1763 + t1803;
	t1668 = 0.2e1 * t1767 + t1682;
	t1870 = -t1975 / 0.2e1;
	t1576 = t1623 * t1679 + t1668 * t1870;
	t1695 = -0.20e2 / 0.3e1 * t1763;
	t1840 = 0.2e1 / 0.3e1 * t1756 + t1711 + t1751;
	t1841 = 0.4e1 / 0.3e1 * t1756 + 0.4e1 / 0.3e1 * t1759 + t1754;
	t1580 = -t1775 + (t1695 + t1840) * t1767 - (3 * t1761) + t1841 * t1763 + t1768;
	t1837 = t1769 + t2005;
	t1839 = t1756 / 0.3e1 + t1712 + t1753;
	t1805 = -0.8e1 / 0.3e1 * t1946 + t1767 * t1682 - 0.5e1 / 0.3e1 * t1761 + t1839 * t1763 + t1769 * t1837;
	t1945 = t1761 * t1687;
	t1538 = t1567 * t1888 + t1580 * t1870 + t1805 * t1679 + (t1576 * t1678 - t1723 * t1945) * t1970;
	t1924 = t1735 - 0.2e1 * t1759;
	t1833 = t1750 + t1924;
	t1716 = -0.2e1 / 0.3e1 * t1759;
	t1929 = t1706 + t1716;
	t1568 = t1775 + (t1925 + t1929) * t1767 + t1742 + t1833 * t1763 + t1769 * (t1769 + t1929);
	t1583 = t1746 + (t1733 + t1833) * t1767 + t1681 * (t1716 + t1834);
	t1550 = t1568 * t1679 - t1583 * t1975;
	t1802 = t1763 + t1837;
	t1625 = t1747 + t1802;
	t1626 = t1669 + t2005;
	t1569 = -t1625 * t1975 + t1626 * t1679;
	t1637 = t1719 + t1767 + t1930;
	t1584 = t1637 * t1912 + t1948 * t1975;
	t1876 = t1778 * t1679;
	t1814 = t1687 * t1876;
	t1889 = -0.4e1 * t1944;
	t1539 = t1584 * t1889 + (t1569 * t1902 - 0.8e1 * t1814) * pkin(1) + t1550;
	t1581 = -0.3e1 * t1775 + (t1695 + t1841) * t1767 + t1840 * t1763 + t1915;
	t1585 = -0.5e1 / 0.3e1 * t1775 + (-t1763 + t1839) * t1767 + t1769 * t1802;
	t1904 = -0.2e1 * t1975;
	t1551 = t1581 * t1679 + t1585 * t1904;
	t1836 = t1705 - t1759 / 0.2e1 + t1769;
	t1622 = 0.3e1 / 0.2e1 * t1767 + t1744 + t1836;
	t1629 = 0.4e1 * t1793;
	t1641 = t1679 + 0.2e1 * t1975;
	t1552 = t1683 * t1679 + t1629 * t1688 + (t1622 * t1723 + t1641 * t1981) * t1969;
	t1624 = t1747 + 0.3e1 / 0.2e1 * t1763 + t1836;
	t1582 = t1624 * t1679 + t1684 * t1975 / 0.2e1;
	t1797 = 0.24e2 * t1674 * t1946 - t1764 - ((21 * t1763) + t2004) * t1775 - (t1924 * t1769 + t1650 + t1748 + (35 * t1761)) * t1767 - (t1741 + (t1749 + t1923) * t1763 + t1769 * (-t1759 - t1919)) * t1681;
	t1864 = -0.12e2 * t1943;
	t1890 = -0.6e1 * t1944;
	t1527 = t1582 * t1818 + t1552 * t1816 + t1538 * t1864 + t1551 * t1890 + (-0.6e1 * t1550 * t1981 + t2007 * t1723) * pkin(3) + (0.6e1 * t1539 * t1963 + t1797 * t1724) * pkin(2);
	t1799 = pkin(1) * t1815;
	t1635 = -0.4e1 * t1799;
	t1660 = pkin(1) * t1904;
	t1685 = t1723 ^ 2;
	t1798 = -0.64e2 * t1948 * t1980;
	t1800 = pkin(1) * t1688 * t1876;
	t1806 = t1687 * t1854;
	t1858 = 0.32e2 / 0.3e1 * t1761;
	t1807 = t1687 * t1858;
	t1808 = 0.64e2 / 0.3e1 * t1638 * t1778;
	t1812 = t1649 * t1778 * t1991;
	t1939 = t1778 * t1688;
	t1881 = pkin(1) * t1939;
	t1817 = -0.48e2 * t1881;
	t1819 = -0.24e2 * t1649 * t1979;
	t1820 = -0.16e2 * t1639 * t1979;
	t1821 = -0.48e2 * t1577 * t1979;
	t1826 = -0.4e1 * t1649 * t1973;
	t1827 = t1949 * t1999;
	t1882 = pkin(1) * t1944;
	t1828 = 0.4e1 * t1882;
	t1951 = t1725 * t1763;
	t1892 = 0.8e1 * t1951;
	t1905 = 0.4e1 * t1977;
	t1544 = (t1587 * t1905 + t1610 * t1892) * t1723 + (t1607 * t1902 + 0.8e1 * t1658 * t1944) * t1679;
	t1844 = t1544 * t1985;
	t1853 = t1723 * t1951;
	t1861 = -0.24e2 * t1939;
	t1862 = 0.24e2 * t1943;
	t1866 = -0.32e2 * t1945;
	t1867 = -0.24e2 * t1951;
	t1868 = -0.32e2 * t1958;
	t1872 = pkin(3) * t1958;
	t1884 = pkin(1) * t1946;
	t1893 = -0.8e1 * t1951;
	t1894 = 0.8e1 * t1958;
	t1895 = -0.8e1 * t1958;
	t1897 = -0.4e1 * t1960;
	t1901 = -0.8e1 * t1554 * pkin(3);
	t1903 = 0.2e1 * t1678;
	t1907 = pkin(3) * t2009;
	t1908 = 0.6e1 * t1978;
	t1910 = -0.6e1 * t1978;
	t1911 = -0.8e1 * t1978;
	t1810 = t1723 * t1861;
	t1935 = pkin(1) * t1684 * t1810 - 0.24e2 * t1674 * t1814;
	t1514 = ((t1622 * t1903 + t1828 + t1897) * t1816 + (0.12e2 * t1685 * t1688 * t1980 + t1620 * t1897 - 0.2e1 * t1668 * t1882 - 0.4e1 * t1884) * t1864 + 0.8e1 * t1684 * t1884 + 0.12e2 * t1585 * t1960 + 0.6e1 * t1583 * t1882 + (-t1580 * t1864 / 0.2e1 + t2007) * t1678) * t1770 + t1527 * t1844 + t1628 * t1635 * t1811 + ((0.6e1 * (-t1583 * t1678 - 0.4e1 * t1625 * t1882 - 0.4e1 * t1806) * t1770 + t1935 * t1997) * t1963 + ((-pkin(1) * t1686 * t1858 - t1687 * t1808 + t1688 * t1820 + t1725 * t1826) * t1862 + t1686 * t1798 + t1687 * t1812 + t1688 * t1821 + t1725 * t1901 + ((t1725 * t1827 + t1897) * t1868 + (t1688 * t1819 + t1725 * t1907) * t1911) * t1659) * t1628 * t1724) * pkin(2) + (-pkin(3) * t1523 + t1628 * (0.16e2 * (t1672 * t1996 - t1657 + t1817 + t1866) * t1959 + 0.32e2 * t1548 * t1872 + (pkin(1) * t1861 + t1596 * t1996 + t1602 * t1971) * t1811 + (-0.28e2 * t1555 * t1951 + t1556 * t1972 + t1604 * t1817 + t1675 * t1866) * t1862 + pkin(3) * t1978 * t1998 + t1659 * (t1560 * t1972 + t1574 * t1867) * t1911 - 0.4e1 * t1634 * t1687 - 0.96e2 * t1578 * t1881 - 0.48e2 * t1549 * t1951 - 0.8e1 * pkin(1) * t1974) + ((t1567 * t1893 + t1807 * t1679) * t1864 + t1945 * t1679 * t1991 + t1582 * t1817 + 0.12e2 * t1551 * t1951 + (t1539 * t1910 + t1552 * t1895 + (-0.24e2 * t1660 + 0.64e2 * t1853) * t1959 + (0.48e2 * t1576 * t1943 + 0.6e1 * t1550) * pkin(1)) * pkin(3) + (0.2e1 * (-t1629 * t1725 - t1641 * t1990) * t1894 + (t1569 * t1971 + t1584 * t1892 + 0.24e2 * t1800) * t1908) * t1659) * t1770) * t1723;
	t1953 = t1725 * t1724;
	t1878 = pkin(2) * t1953;
	t1822 = pkin(3) * t1878;
	t1863 = 0.12e2 * t1943;
	t1885 = 0.8e1 * t1943;
	t1900 = t1558 * t2001;
	t1906 = t1627 * t2000;
	t1909 = 0.4e1 * t1978;
	t1520 = (t1763 * t1685 * t1895 + (t1680 * t1678 - 0.2e1 * t1960) * t1887 + 0.4e1 * t1806 + t1667 * t1828 + t1617 * t1678) * t1770 + t1535 * t1844 + t1628 * ((-0.8e1 / 0.3e1 * t1814 + t1635 - 0.2e1 * t1673 * t1822) * t1863 + t1799 * t2008 + t1822 * t2010 + t1935) + ((t1630 * t1725 * t1885 + t1592 * t1996 - 0.24e2 * t1800) * t1770 + t1628 * (0.12e2 * (-t1591 * t1951 - t1881) * t1863 + t1572 * t1867) + (t1726 * t1770 * t1900 - t1532 + t1628 * (t1547 * t1908 + t1609 * t1894) + ((t1885 * t1679 + 0.4e1 * t1590) * t1770 + t1628 * (-0.48e2 * t1599 * t1943 - 0.6e1 * t1557)) * pkin(1)) * pkin(3)) * t1723 + ((t1872 * t1995 + ((-pkin(3) * t1667 + t1653 * t1992) * t1725 + (-t1640 * t1975 - t1944) * t2002) * t1909) * t1770 + t1628 * ((t1660 - 0.8e1 * t1853) * t1895 + ((-0.2e1 * t1665 * t1723 + t1906 * t1679) * t1725 + (-0.4e1 * t1597 * t1975 - 0.8e1 * t1815) * pkin(1)) * t1910)) * t1659;
	t1521 = t1523 * t1628 + t1527 * t1770;
	t1606 = t1663 + t1759 + t1801;
	t1874 = t1610 * t1678;
	t1562 = t1606 * t1658 + 0.2e1 * t1874;
	t1932 = -t1653 + t1642;
	t1598 = pkin(3) + t1932;
	t1843 = t1598 * t1985;
	t1873 = pkin(3) * t1642;
	t1600 = t1658 * t1723 + t1878;
	t1965 = t1600 * t1770;
	t1530 = -t1965 + t1544 * t1843 + t1610 * t1685 * t1999 + t1562 * t1725 + (-t1606 - 0.8e1 * t1873) * t1653;
	t1643 = t1744 + t1759 + t1830;
	t1588 = t1643 + t1663 + t1809;
	t1842 = t1600 * t1985;
	t1913 = pkin(1) * t1994;
	t1531 = t1932 * t1770 + t1544 * t1842 + (t1658 * t1588 + 0.4e1 * t1874) * t1723 + (t1767 * t1725 * t1913 + (t1643 * t1725 + t1688 * t1905) * pkin(2)) * t1724;
	t1573 = t1646 + t1663 + t1832 + 0.2e1 * t1873;
	t1570 = 0.1e1 / t1573;
	t1593 = t1600 * t1969;
	t1571 = 0.1e1 / t1573 ^ 2;
	t1645 = t1653 - pkin(3);
	t1533 = -t1588 * t1642 + t1965 + (t1643 * t1955 + t1645 * t1913) * pkin(2) + (-t1651 - t1747 + t1886 - 0.2e1 * t1964) * pkin(3);
	t1563 = t1606 * t1725 + (0.4e1 * t1688 - 0.2e1) * t1977;
	t1534 = t1562 * t1723 + t1563 * t1679 + t1598 * t1770;
	t1850 = t1534 * t1987;
	t1791 = t1521 * t1850 + t1533 * t1982;
	t1789 = t1571 * t1791;
	t1847 = t1533 * t1542 / 0.8e1;
	t1848 = t1534 * t1986;
	t1947 = 0.1e1 / pkin(5) / pkin(4) ^ 2;
	t1503 = (t1593 * t1789 + (t1531 * t1982 + t1544 * t1847 + t1514 * t1850 + (t1520 * t1848 + t1530 * t1987) * t1521) * t1570) * t1947;
	t1851 = t1533 * t1987;
	t1790 = t1521 * t1851 + t1534 * t1983;
	t1857 = t1570 * t1947;
	t1518 = t1790 * t1857;
	t1952 = t1725 * t1726;
	t1615 = -t1952 - t1955;
	t1517 = t1518 * t1615;
	t1519 = t1791 * t1857;
	t1954 = t1723 * t1726;
	t1616 = -t1953 + t1954;
	t1513 = -t1519 * t1616 - t1517;
	t1511 = 0.1e1 / t1513 ^ 2;
	t1516 = t1518 * t1616;
	t1512 = -t1519 * t1615 + t1516;
	t1509 = 0.1e1 / (t1511 * t1512 ^ 2 + 0.1e1);
	t1510 = 0.1e1 / t1513;
	t1788 = t1571 * t1790;
	t1846 = -t1534 * t1542 / 0.8e1;
	t1849 = t1533 * t1986;
	t1938 = (t1593 * t1788 + (t1514 * t1851 + t1530 * t1983 + t1544 * t1846 + (t1520 * t1849 + t1531 * t1987) * t1521) * t1570) * t1947 - t1519;
	t1966 = t1511 * t1512;
	t1500 = ((-t1503 * t1615 + t1938 * t1616 - t1517) * t1510 - ((-t1503 - t1518) * t1616 - t1938 * t1615) * t1966) * t1509;
	t1508 = qJ(1) + atan2(t1512, t1513);
	t1507 = cos(t1508);
	t1968 = t1500 * t1507;
	t1603 = t1674 * t1810 * t1978;
	t1875 = pkin(2) * t1952;
	t1825 = pkin(1) * t1875;
	t1795 = t1763 * t1723 * t1825;
	t1619 = -0.4e1 * t1795;
	t1636 = t1825 * t1969;
	t1662 = pkin(1) * t1912;
	t1950 = t1726 * t1767;
	t1852 = t1724 * t1950;
	t1614 = t1662 - 0.4e1 * t1852;
	t1880 = pkin(1) * t1723 * t1767;
	t1879 = pkin(2) * t1954;
	t1823 = pkin(3) * t1879;
	t1933 = -0.2e1 * t1823 + t1662;
	t1540 = t1614 * t1889 + (pkin(1) * t1644 * t2001 + t1664 * t1994) * t1724 + (-t1933 * t1642 + 0.2e1 * t1724 ^ 2 * t1880 + (-t1587 * t1953 + t1607 * t1954) * pkin(2)) * t2011;
	t1845 = t1540 * t1985;
	t1956 = t1691 * t1774;
	t1855 = t1659 * t1956;
	t1957 = t1690 * t1775;
	t1515 = t1527 * t1845 + (-0.32e2 * t1619 * t1628 + 0.8e1 * t1636 * t1770) * t1856 + (0.24e2 * (0.4e1 * t1605 * t1957 * t1975 + t1538 * t1950 - t1552 * t1855) * t1770 + t1628 * (-0.48e2 * t1536 * t1950 + 0.96e2 * t1548 * t1855 - 0.64e2 * t1566 * t1957)) * t1724 + ((t1523 + (-0.6e1 * t1539 * t1770 + t1628 * t1998) * t1659) * t1724 + (t1659 * t1603 * t1997 + ((t1621 * t1888 + t1623 * t1860 + t1805) * t1864 + t1624 * t1818 + t1581 * t1890 - 0.6e1 * t1568 * t1898 + (t2006 * t1894 + (t1626 * t1860 - 0.8e1 * t1637 * t1944 + t1568 - 0.8e1 * t1883) * t1908) * t1659 + t1797) * t1770 + ((-pkin(1) * t1807 - t1688 * t1808 + t1725 * t1820 + t1826) * t1862 + t1687 * t1798 + t1688 * t1812 + t1725 * t1821 + t1901 + ((t1827 - 0.4e1 * t1939) * t1868 + (t1725 * t1819 + t1907) * t1911) * t1659) * t1628 * t1723) * t1726) * pkin(2);
	t1522 = (t1636 * t1887 + (0.8e1 * t1561 * t1767 * t1724 + t1666 * t1688 + ((t1682 + 0.2e1 * t1944) * t1887 - t1608 + (-0.4e1 * t1669 * t1678 + t1896) * pkin(1)) * pkin(2)) * t1726 + ((t1636 + (t1669 - 0.2e1 * t1944) * t1978) * t1909 + (-0.24e2 * t1956 * t1975 + t1900) * t1724) * t1659) * t1770 + t1535 * t1845 + t1532 * t1679 + t1628 * (0.24e2 * t1609 * t1724 * t1855 + (t1619 + (-0.8e1 / 0.3e1 * t1939 - 0.2e1 * t1973) * t1879) * t1863 - 0.24e2 * t1546 * t1852 + t1603 + t1795 * t2008 + t1823 * t2010 + 0.6e1 * (-(pkin(1) * t1893 + t1906) * t1723 * t1943 + t1547 * t1679) * t1659);
	t1528 = t1540 * t1843 + t1614 * t1723 * t1903 + ((-t1723 * t1770 + t1563) * t1726 + (t1725 * t1770 + (t1658 * t2002 + t1606) * t1723 + (-pkin(3) + 0.2e1 * t1976 + t1981) * t1912) * t1724) * pkin(2);
	t1529 = (t1653 + t1875) * t1770 + t1540 * t1842 - 0.2e1 * t1614 * t1976 - (t1662 - 0.4e1 * t1823) * t1642 - 0.2e1 * t1691 * t1880 + t1643 * t1879 + (t1950 * t2000 + (-t1588 * t1725 + t1645 * t2002) * pkin(2)) * t1724;
	t1589 = 0.2e1 * t1822 + t1933;
	t1505 = (-t1589 * t1789 + (t1529 * t1982 + t1540 * t1847 + t1515 * t1850 + (t1522 * t1848 + t1528 * t1987) * t1521) * t1570) * t1947;
	t1937 = (-t1589 * t1788 + (t1515 * t1851 + t1528 * t1983 + t1540 * t1846 + (t1522 * t1849 + t1529 * t1987) * t1521) * t1570) * t1947 + t1519;
	t1501 = 0.1e1 + ((t1937 * t1616 + (-t1505 + t1518) * t1615) * t1510 - (-t1505 * t1616 - t1937 * t1615 + t1516) * t1966) * t1509;
	t1967 = t1501 * t1507;
	t1506 = sin(t1508);
	t1499 = t1501 * t1506;
	t1498 = t1500 * t1506;
	t1 = [t1499, t1498; -t1967, -t1968; 0, 0; t1967, t1968; t1499, t1498; 0, 0; 0, 0; 0, 0; 0, 0;];
	JR_rot = t1;
elseif link_index == 3
	%% Symbolic Calculation
	% From jacobiR_rot_3_floatb_twist_matlab.m
	% OptimizationMode: 2
	% StartTime: 2020-04-27 05:51:21
	% EndTime: 2020-04-27 05:51:21
	% DurationCPUTime: 0.01s
	% Computational Cost: add. (3->3), mult. (0->0), div. (0->0), fcn. (4->2), ass. (0->3)
	t9 = cos(qJ(2));
	t8 = sin(qJ(2));
	t1 = [0, -t8; 0, t9; 0, 0; 0, -t9; 0, -t8; 0, 0; 0, 0; 0, 0; 0, 0;];
	JR_rot = t1;
elseif link_index == 4
	%% Symbolic Calculation
	% From jacobiR_rot_4_floatb_twist_matlab.m
	% OptimizationMode: 2
	% StartTime: 2020-04-27 05:51:25
	% EndTime: 2020-04-27 05:51:26
	% DurationCPUTime: 0.93s
	% Computational Cost: add. (8310->112), mult. (18036->190), div. (144->7), fcn. (4440->9), ass. (0->92)
	t402 = -4 * pkin(2);
	t352 = pkin(2) ^ 2;
	t346 = cos(qJ(1));
	t393 = pkin(2) * t346;
	t372 = pkin(1) * t393;
	t338 = -0.2e1 * t372;
	t353 = pkin(1) ^ 2;
	t375 = t338 + t353;
	t342 = t346 ^ 2;
	t399 = 0.2e1 * t342;
	t328 = t352 * t399 - t352 + t375;
	t401 = -0.2e1 * t328;
	t336 = pkin(1) - t393;
	t400 = 0.2e1 * t336;
	t398 = (-pkin(4) - pkin(5));
	t397 = (-pkin(4) + pkin(5));
	t343 = sin(qJ(2));
	t344 = sin(qJ(1));
	t380 = t343 * t344;
	t335 = pkin(2) * t380;
	t362 = pkin(3) * t335;
	t334 = -0.2e1 * t362;
	t351 = pkin(3) ^ 2;
	t345 = cos(qJ(2));
	t330 = t336 * t345;
	t367 = pkin(3) * t330;
	t319 = t334 + t351 + t352 + 0.2e1 * t367 + t375;
	t317 = 0.1e1 / t319;
	t396 = t317 / 0.2e1;
	t395 = pkin(1) * (t335 - pkin(3));
	t394 = pkin(2) * t344;
	t392 = pkin(3) * t336;
	t341 = t345 ^ 2;
	t391 = pkin(3) * t341;
	t390 = pkin(3) * t345;
	t349 = pkin(4) ^ 2;
	t374 = -pkin(5) ^ 2 + t353;
	t366 = t352 + t374;
	t331 = 0.3e1 * t351 + t349 + t366;
	t321 = t331 + t338 - 0.4e1 * t362;
	t358 = t341 * t401 - t374;
	t378 = t344 * t345;
	t325 = pkin(2) * t378 + t336 * t343;
	t359 = t351 + t366;
	t332 = -t349 + t359;
	t327 = t338 + t332;
	t320 = t334 + t327;
	t339 = (t351 - t353) * t352;
	t354 = sqrt(0.4e1 * t339 * t342 + 0.4e1 * t332 * t372 - (t353 + ((pkin(2) - t397) * (pkin(2) + t397))) * (t353 + ((pkin(2) - t398) * (pkin(2) + t398))) + 0.4e1 * (-t320 * t330 + t327 * t335) * pkin(3) + (0.2e1 * t349 - (6 * t352) + 0.2e1 * t358 - t351) * t351);
	t383 = t325 * t354;
	t308 = -t321 * t330 + t383 + (t331 * t380 - 0.2e1 * t346 * t395) * pkin(2) + (-t349 - t351 + (t399 - 0.3e1) * t352 + t358) * pkin(3);
	t326 = t338 + t349 + t359;
	t382 = t328 * t345;
	t368 = pkin(3) * t382;
	t315 = t326 * t336 + 0.2e1 * t368;
	t316 = t326 * t345 + (0.4e1 * t341 - 0.2e1) * t392;
	t376 = -t335 + t330;
	t324 = pkin(3) + t376;
	t309 = t315 * t343 + t316 * t394 + t324 * t354;
	t340 = pkin(1) * t394;
	t337 = 0.2e1 * t340;
	t370 = -0.4e1 * t346 * t352;
	t329 = t344 * t370 + t337;
	t307 = 0.1e1 / t308 ^ 2;
	t350 = 0.1e1 / pkin(4);
	t360 = pkin(4) / (t307 * t309 ^ 2 + 0.1e1) * t319 * t350;
	t356 = t307 * t309 * t360;
	t357 = 0.1e1 / t308 * t360;
	t379 = t343 * t346;
	t369 = pkin(2) * t379;
	t361 = pkin(3) * t369;
	t312 = 0.1e1 / t354;
	t363 = -0.8e1 * t367;
	t381 = t341 * t351;
	t365 = (-0.4e1 * t329 * t381 + (t340 - t361) * t363 + 0.4e1 * t327 * t361 + (t320 * t390 * t402 - 0.8e1 * t339 * t346 + (0.8e1 * pkin(3) * t352 * t380 + t332 * t402) * pkin(1)) * t344) * t312 / 0.2e1;
	t373 = -0.2e1 * pkin(1) * t352;
	t377 = t345 * t346;
	t318 = 0.1e1 / t319 ^ 2;
	t385 = t318 * (t340 + (t378 - t379) * pkin(3) * pkin(2));
	t300 = 0.2e1 * ((0.2e1 * t329 * t343 * t390 + t324 * t365) * t396 - t309 * t385 + ((-t343 * t354 + t316) * t346 * t396 + (t345 * t354 / 0.2e1 + (pkin(1) * t400 + t326) * t343 / 0.2e1 + (pkin(1) * t345 - pkin(3) + 0.2e1 * t391) * t394) * t317 * t344) * pkin(2)) * t357 - 0.2e1 * (((pkin(2) * t377 + t335) * t354 + t325 * t365 - 0.2e1 * t329 * t391 - (t337 - 0.4e1 * t361) * t330 + t342 * t343 * t373 + t331 * t369 + (pkin(3) * t370 + (-t321 * t345 + 0.2e1 * t395) * pkin(2)) * t344) * t396 - t308 * t385) * t356;
	t364 = t350 * t396;
	t304 = qJ(2) + atan2(t309 * t364, t308 * t364);
	t302 = sin(t304);
	t389 = t300 * t302;
	t303 = cos(t304);
	t388 = t300 * t303;
	t371 = 0.2e1 * t312 * ((t320 * t392 + 0.2e1 * t351 * t382) * t343 + (t327 * t390 + t381 * t400) * t394);
	t384 = t318 * t325 * pkin(3);
	t301 = 0.1e1 + 0.2e1 * ((-t383 + t324 * t371 + t315 * t345 + ((-t326 + t363) * t394 + pkin(3) * t343 * t401) * t343) * t396 + t309 * t384) * t357 - 0.2e1 * ((t376 * t354 + t325 * t371 + (t336 * t321 + 0.4e1 * t368) * t343 + (t373 * t377 + (t331 * t345 + 0.4e1 * t336 * t391) * pkin(2)) * t344) * t396 + t308 * t384) * t356;
	t387 = t301 * t302;
	t386 = t301 * t303;
	t1 = [-t389, -t387; t388, t386; 0, 0; -t388, -t386; -t389, -t387; 0, 0; 0, 0; 0, 0; 0, 0;];
	JR_rot = t1;
end